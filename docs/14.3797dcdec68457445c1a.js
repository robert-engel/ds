(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"38Pe":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("fXoL"),o=n("3Pt+"),s=n("lJxs"),a=n("UXun"),c=n("ZTz/"),r=n("DNTf"),b=n("0MNC"),l=n("7nMs"),m=n("ofXK"),d=n("Q2Ze"),u=n("e6WT"),p=n("bTqV"),h=n("FKr1");function f(e,t){if(1&e&&i.Pb(0,"img",8),2&e){const e=i.jc().$implicit,t=i.jc();i.pc("src",t.imagebase+"unit/unit_"+e+".png",i.Cc)}}const g=function(e,t){return{"col-xl-12":e,pad:t}};function T(e,t){if(1&e){const e=i.Vb();i.Ub(0,"span",0),i.kc(1,"async"),i.kc(2,"async"),i.Ub(3,"mat-form-field",3),i.Ub(4,"mat-label"),i.Lc(5),i.kc(6,"titlecase"),i.Tb(),i.Ub(7,"input",4,5),i.fc("change",(function(){i.Ac(e);const n=t.$implicit,o=i.xc(8);return i.jc().input(o.value,n)})),i.Tb(),i.Ub(9,"button",6),i.fc("click",(function(n){i.Ac(e);const o=t.$implicit,s=i.xc(8),a=i.jc();return n.preventDefault(),a.input("alle",o),s.value="alle"})),i.Jc(10,f,1,1,"img",7),i.Tb(),i.Tb(),i.Tb()}if(2&e){const e=t.$implicit,n=i.jc();i.pc("ngClass",i.uc(10,g,n.forceVertical||!0===i.lc(1,4,n.isHandset$),!(n.forceVertical||!0===i.lc(2,6,n.isHandset$)))),i.Bb(5),i.Mc(i.lc(6,8,e)),i.Bb(2),i.pc("id","troop_input_"+e),i.Bb(3),i.pc("ngIf",n.imagebase)}}function v(e,t){if(1&e&&i.Pb(0,"img",18),2&e){const e=i.jc(3);i.pc("src",e.imagebase+"buildings/"+e.formControl.value.cataTarget+".png",i.Cc)}}function w(e,t){if(1&e&&(i.Ub(0,"mat-select-trigger"),i.Ub(1,"div",16),i.Ub(2,"span"),i.Lc(3),i.kc(4,"titlecase"),i.Tb(),i.Jc(5,v,1,1,"img",17),i.Tb(),i.Tb()),2&e){const e=i.jc(2);i.Bb(3),i.Mc(i.lc(4,2,e.formControl.value.cataTarget)),i.Bb(2),i.pc("ngIf",e.imagebase)}}function k(e,t){if(1&e&&i.Pb(0,"img",18),2&e){const e=i.jc().$implicit,t=i.jc(2);i.pc("src",t.imagebase+"buildings/"+e+".png",i.Cc)}}function U(e,t){if(1&e&&(i.Ub(0,"mat-option",19),i.Ub(1,"div",16),i.Ub(2,"span"),i.Lc(3),i.kc(4,"titlecase"),i.Tb(),i.Jc(5,k,1,1,"img",17),i.Tb(),i.Tb()),2&e){const e=t.$implicit,n=i.jc(2);i.pc("value",e),i.Bb(3),i.Mc(i.lc(4,3,e)),i.Bb(2),i.pc("ngIf",n.imagebase)}}function C(e,t){if(1&e){const e=i.Vb();i.Ub(0,"div",9),i.Ub(1,"div",10),i.Ub(2,"mat-form-field"),i.Ub(3,"mat-label"),i.Lc(4,"Katapult Ziel"),i.Tb(),i.Ub(5,"mat-select",11,12),i.fc("valueChange",(function(){i.Ac(e);const t=i.xc(6);return i.jc().input(t.value,"cataTarget")})),i.Jc(7,w,6,4,"mat-select-trigger",13),i.Ub(8,"mat-option",14),i.Lc(9,"Default"),i.Tb(),i.Jc(10,U,6,5,"mat-option",15),i.Tb(),i.Tb(),i.Tb(),i.Tb()}if(2&e){const e=i.jc();i.Bb(7),i.pc("ngIf","///DEFAULT///"!==e.formControl.value.cataTarget),i.Bb(3),i.pc("ngForOf",e.buildings)}}const y=function(e,t){return{spread:e,row:t}};let E=(()=>{class e{constructor(e,t){this.breakpointObserver=e,this.web=t,this.forceVertical=!1,this.hideCataTarget=!1,this.excludeUnits=[],this.units=[],this.buildings=[],this.formControl=new o.e({cataTarget:"///DEFAULT///"}),this.isHandset$=this.breakpointObserver.observe(r.a).pipe(Object(s.a)(e=>e.matches),Object(a.a)()),this.propagateChange=e=>{}}ngOnInit(){this.web.infoObservable.subscribe(e=>{this.units=e.units,this.units=this.units.filter(e=>!this.excludeUnits.includes(e)),this.imagebase=e.imageBase,this.buildings=e.buildings}),this.units.forEach(e=>{const t={};t[e]="0",this.formControl.patchValue(t)}),this.formControl.valueChanges.subscribe(e=>{this.propagateChange(e)})}input(e,t){const n={};n[t]=e,this.formControl.setValue(Object.assign(Object.assign({},this.formControl.value),n))}get cata(){return this.formControl.value.catapult&&"0"!==this.formControl.value.catapult}writeValue(e){null==e&&(e={cataTarget:"///DEFAULT///"}),this.formControl.setValue(e),setTimeout(()=>{void 0!==this.select&&(this.select.value=e.cataTarget),this.units.forEach(t=>{const n=document.getElementById("troop_input_"+t);null!==n&&e.hasOwnProperty(t)&&(n.value=e[t])})},10)}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){}setDisabledState(e){e?this.formControl.disable():this.formControl.enable()}}return e.\u0275fac=function(t){return new(t||e)(i.Ob(b.a),i.Ob(l.a))},e.\u0275cmp=i.Ib({type:e,selectors:[["app-units-input"]],viewQuery:function(e,t){var n;1&e&&i.Rc(c.a,!0),2&e&&i.wc(n=i.gc())&&(t.select=n.first)},inputs:{forceVertical:"forceVertical",hideCataTarget:"hideCataTarget",excludeUnits:"excludeUnits"},features:[i.Ab([{provide:o.m,multi:!0,useExisting:Object(i.V)(()=>e)}])],decls:5,vars:10,consts:[[3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"full-width"],["matInput","","type","text",3,"id","change"],["t",""],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["class","img-fluid",3,"src",4,"ngIf"],[1,"img-fluid",3,"src"],[1,"row"],[1,"col-12"],[3,"valueChange"],["select",""],[4,"ngIf"],["value","///DEFAULT///"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-between"],["matSuffix","","class","img-fluid",3,"src",4,"ngIf"],["matSuffix","",1,"img-fluid",3,"src"],[3,"value"]],template:function(e,t){1&e&&(i.Ub(0,"div",0),i.kc(1,"async"),i.kc(2,"async"),i.Jc(3,T,11,13,"span",1),i.Tb(),i.Jc(4,C,11,2,"div",2)),2&e&&(i.pc("ngClass",i.uc(7,y,!(t.forceVertical||!0===i.lc(1,3,t.isHandset$)),t.forceVertical||!0===i.lc(2,5,t.isHandset$))),i.Bb(3),i.pc("ngForOf",t.units),i.Bb(1),i.pc("ngIf",t.cata&&!t.hideCataTarget))},directives:[m.k,m.l,m.m,d.b,d.f,u.b,p.a,d.g,c.a,h.n,c.c],pipes:[m.b,m.v],styles:[".full-width[_ngcontent-%COMP%]{width:99%}.pad[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px}div.spread[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}div.spread[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;text-align:center}"]}),e})()},"5za1":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("1G5W"),o=n("lJxs"),s=n("SxV6"),a=n("pLZG");class c{constructor(e,t,n,i,o,s,a){this.id=Math.random(),this.max=e,this.first=t,this.origin=n,this.target=i,this.type=o,this.unit=s,this.cataTarget=a}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.CommandListRequest"}}class r{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.GetCommandEditTimesRequest"}}class b{constructor(e){this.time=e}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.SimpleTimerRequest"}}class l{constructor(e,t,n){this.id=Math.random(),this.plan=e,this.cataTarget=t,this.ms=n}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.ImportWorkbenchRequest"}}class m{constructor(e,t,n,i,o,s,a){this.source=e,this.target=t,this.slowestUnit=n,this.commandType=i.name,this.arrival=o,this.template=s,this.troops=a}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.AddCommandRequest"}}class d{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.DeleteCommandRequest"}}class u{constructor(e,t){this.id=e,this.source=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandSourceRequest"}}class p{constructor(e,t){this.id=e,this.target=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandTargetRequest"}}class h{constructor(e,t){this.id=e,this.slowestUnit=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditSlowestUnitRequest"}}class f{constructor(e,t){this.id=e,this.type=t.name}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandTypeRequest"}}class g{constructor(e,t){this.id=e,this.arrivalTime=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandArrivalTimeRequest"}}class T{constructor(e,t){this.id=e,this.sendTime=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandSendTimeRequest"}}class v{constructor(e,t,n){this.id=e,this.template=t,this.troops=n}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandTroopsRequest"}}class w{getName(){return"GetStandardTroopTemplateRequest"}}class k{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.unitengine.ws.packet.incoming.GetStandardTroopTemplateRequest"}}class U{constructor(e,t){this.name=e,this.troops=t}getName(){return"io.robertengel.dsbot.unitengine.ws.packet.incoming.AddStandardTroopTemplateRequest"}}class C{constructor(e,t,n){this.id=e,this.name=t,this.troops=n}getName(){return"io.robertengel.dsbot.unitengine.ws.packet.incoming.EditStandardTroopTemplateRequest"}}class y{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.unitengine.ws.packet.incoming.DeleteStandardTroopTemplateRequest"}}class E{constructor(e,t,n,i,o){this.origin=e,this.target=t,this.type=n,this.unit=i,this.cataTarget=o}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.WorkbenchExportRequest"}}class L{getName(){return"GetTimerLogicRequest"}}class O{constructor(e){this.timerLogic=e}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.SetTimerLogicRequest"}}class R{constructor(e,t,n,i,o){this.village=e,this.troops=t,this.second=n,this.msStart=i,this.msEnd=o}getName(){return"io.robertengel.dsbot.feature.tabber.ws.packet.incoming.CancelTabberRequest"}}class x{getName(){return"GetPlannedCancelTabsRequest"}}class N{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.feature.tabber.ws.packet.incoming.CancelPlannedTabRequest"}}class j{constructor(e,t){this.id=e,this.timerLogic=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.EditCommandTimerRequest"}}class I{constructor(e,t,n,i,o,s,a){this.sources=e,this.target=t,this.slowestUnit=n,this.commandType=i.name,this.arrival=o,this.template=s,this.troops=a}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.MultiAddCommandRequest"}}class S{constructor(e,t,n){this.ids=e,this.plus=t,this.unit=n}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandTimeAddRequest"}}class B{constructor(e,t,n){this.ids=e,this.min=t,this.max=n}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandMillisRandomRequest"}}class D{constructor(e,t){this.ids=e,this.ms=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandMillisSetRequest"}}class q{constructor(e,t){this.ids=e,this.timerLogic=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandTimerRequest"}}class P{constructor(e,t,n){this.ids=e,this.template=t,this.troops=n}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandTroopsRequest"}}class M{constructor(e,t){this.ids=e,this.type=t.name}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandTypeRequest"}}class ${constructor(e,t){this.ids=e,this.slowestUnit=t}getName(){return"io.robertengel.dsbot.feature.command.ws.packet.incoming.multi.MultiEditCommandUnitRequest"}}class V{getName(){return"CommandListUsedTypesRequest"}}var A=n("fXoL"),J=n("7nMs");let F=(()=>{class e{constructor(e){this.websocket=e}multiEditEvents(e){return this.websocket.observable("MultiEditCommandResponse").pipe(Object(i.a)(e))}addMillis(e,t,n){this.websocket.sendData(new S(e,t,n))}randomizeMillis(e,t,n){this.websocket.sendData(new B(e,t,n))}setMillis(e,t){this.websocket.sendData(new D(e,t))}multiEditTimer(e,t){this.websocket.sendData(new q(e,t))}multiEditTroops(e,t,n){this.websocket.sendData(new P(e,t,n))}multiEditType(e,t){this.websocket.sendData(new M(e,t))}multiEditUnit(e,t){this.websocket.sendData(new $(e,t))}setOverviewRemove(e){localStorage.setItem("tw.interface.command.overview.remove",String(e))}shouldOverviewRemove(){return"true"===localStorage.getItem("tw.interface.command.overview.remove")}cancelTab(e,t,n,i,o){this.websocket.sendData(new R(e,t,n,i,o))}getCancelTabs(){return this.websocket.observable("ListPlannedCancelTabsResponse",new x)}cancelPlannedCancelTab(e){this.websocket.sendData(new N(e))}addedPlansEvents(){return this.websocket.observable("AddedPlannedTabPacket")}cancelPlansEvents(){return this.websocket.observable("CanceledPlannedTabPacket").pipe(Object(o.a)(e=>e.id))}getTimerLogic(){return this.websocket.observable("TimerLogicResponse",new L)}setTimerLogic(e){this.websocket.sendData(new O(e))}importWorkbenchStart(){return this.websocket.observable("ImportWorkbenchStartEvent").pipe(Object(o.a)(e=>e.id))}importWorkbenchProgress(){return this.websocket.observable("ImportWorkbenchProgressEvent")}importWorkbenchFinish(){return this.websocket.observable("ImportWorkbenchFinishEvent")}getTroopTemplates(){return this.websocket.observable("StandardTroopTemplateListResponse",new w).pipe(Object(s.a)(),Object(o.a)(e=>e.templates))}getTroopTemplate(e){return this.websocket.observable("StandardTroopTemplateResponse",new k(e)).pipe(Object(a.a)(t=>t.id===e),Object(s.a)())}addTroopTemplate(e,t){return this.websocket.observable("StandardTroopTemplateResponse",new U(e,t)).pipe(Object(s.a)())}editTroopTemplate(e,t,n){return this.websocket.observable("StandardTroopTemplateResponse",new C(e,t,n)).pipe(Object(a.a)(t=>t.id===e),Object(s.a)())}deleteTroopTemplate(e){this.websocket.sendData(new y(e))}exportWorkbench(e,t,n,i,a){return this.websocket.observable("WorkbenchExportResponse",new E(e,t,n,i,a)).pipe(Object(s.a)(),Object(o.a)(e=>e.export))}addCommandEvents(){return this.websocket.observable("AddCommandEvent")}multiAddCommandEvents(){return this.websocket.observable("MultiAddCommandEvent")}editCommandsEvents(){return this.websocket.observable("EditCommandEvent")}removeCommandEvents(){return this.websocket.observable("RemoveCommandEvent").pipe(Object(o.a)(e=>e.id))}simpleTimer(e){this.websocket.sendData(new b(e))}importWorkbench(e,t,n){const i=new l(e,t,n);return this.websocket.sendData(i),i.id}getCommandTypes(){return this.websocket.observable("CommandListTypesResponse",new V).pipe(Object(s.a)())}getCommandList(e,t,n,i,o,r,b){const l=new c(e,t,n,i,o,r,b);return this.websocket.observable("CommandListResponse",l).pipe(Object(a.a)(e=>e.id===l.id),Object(s.a)())}getEditTimes(e){const t=new r(e);return this.websocket.observable("CommandEditTimesResponse",t).pipe(Object(a.a)(t=>t.id===e),Object(s.a)())}addCommand(e,t,n,i,o,s,a){this.websocket.sendData(new m(e,t,n,i,o,s,a))}addCommands(e,t,n,i,o,s,a){this.websocket.sendData(new I(e,t,n,i,o,s,a))}removeCommand(e){this.websocket.sendData(new d(e))}editSource(e,t){this.websocket.sendData(new u(e,t))}editTarget(e,t){this.websocket.sendData(new p(e,t))}editSlowestUnit(e,t){this.websocket.sendData(new h(e,t))}editCommandType(e,t){this.websocket.sendData(new f(e,t))}editArrival(e,t){this.websocket.sendData(new g(e,t))}editTimer(e,t){this.websocket.sendData(new j(e,t))}editSendTime(e,t){this.websocket.sendData(new T(e,t))}editTroops(e,t,n){this.websocket.sendData(new v(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(A.cc(J.a))},e.\u0275prov=A.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},DNTf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i="(max-width: 1100.99px)"},yPrK:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModule",(function(){return re}));var i=n("ofXK"),o=n("tyNb"),s=n("fXoL");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Ib({type:e,selectors:[["app-settings"]],decls:1,vars:0,template:function(e,t){1&e&&s.Pb(0,"router-outlet")},directives:[o.g],encapsulation:2}),e})();var c=n("OaSA"),r=n("3Pt+"),b=n("5za1"),l=n("PDjf"),m=n("Q2Ze"),d=n("e6WT"),u=n("8Qe2"),p=n("38Pe"),h=n("bTqV"),f=n("k2HR");function g(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",22),s.fc("click",(function(){s.Ac(e);const t=s.jc();return t.edit(t.form.value)})),s.Lc(1," Bearbeiten. "),s.Tb()}if(2&e){const e=s.jc();s.pc("disabled",!e.form.valid)}}function T(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",23),s.fc("click",(function(){return s.Ac(e),s.jc().delete()})),s.Lc(1," L\xf6schen. "),s.Tb()}}function v(e,t){1&e&&(s.Ub(0,"th",24),s.Lc(1," Name"),s.Tb())}function w(e,t){if(1&e&&(s.Ub(0,"td",25),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.Nc(" ",e.name," ")}}function k(e,t){1&e&&(s.Ub(0,"th",24),s.Lc(1," Einheiten"),s.Tb())}function U(e,t){if(1&e&&(s.Ub(0,"td",25),s.Pb(1,"app-units-render",26),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.pc("value",e.troops)}}function C(e,t){1&e&&s.Pb(0,"tr",27)}function y(e,t){if(1&e){const e=s.Vb();s.Ub(0,"tr",28),s.fc("click",(function(){s.Ac(e);const n=t.$implicit;return s.jc().select(n)})),s.Tb()}}let E=(()=>{class e{constructor(e,t){this.command=e,this.fb=t,this.dataSource=new c.k,this.columnsToDisplay=["name","troops"],this.form=this.fb.group({name:["",r.v.required],troops:[{},r.v.required]})}ngOnInit(){this.command.getTroopTemplates().subscribe(e=>{this.dataSource.data=e})}add(e){this.command.addTroopTemplate(e.name,e.troops).subscribe(e=>{this.dataSource.data=[...this.dataSource.data,e]})}edit(e){this.command.editTroopTemplate(this.selected.id,e.name,e.troops).subscribe(e=>{this.dataSource.data=this.dataSource.data.filter((e,t,n)=>e.id!==this.selected.id),this.dataSource.data=[...this.dataSource.data,e]})}delete(){this.command.deleteTroopTemplate(this.selected.id),this.dataSource.data=this.dataSource.data.filter((e,t,n)=>e.id!==this.selected.id),this.selected=void 0}select(e){this.selected=e,this.form.setValue({name:e.name,troops:e.troops})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(b.a),s.Ob(r.d))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-troop-template"]],decls:33,vars:7,consts:[[1,"row"],[1,"col-md-7"],[3,"formGroup"],[1,"form-group","row"],["for","name",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"example-full-width"],["id","name","matInput","","placeholder","Name","formControlName","name","matBadge","i",1,"example-full-width"],["for","troops",1,"label","col-sm-3","col-form-label"],["forceVertical","true","id","troops","formControlName","troops"],[1,"offset-sm-3","col-sm-9"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","info",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","danger",3,"click",4,"ngIf"],[1,"col-md-5",2,"max-height","650px"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","troops"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","style","cursor: pointer",3,"click",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","info",3,"disabled","click"],["mat-raised-button","","color","danger",3,"click"],["mat-header-cell",""],["mat-cell",""],[3,"value"],["mat-header-row",""],["mat-row","",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"mat-card"),s.Ub(3,"mat-card-content"),s.Ub(4,"form",2),s.Ub(5,"div",3),s.Ub(6,"label",4),s.Lc(7,"Name"),s.Tb(),s.Ub(8,"div",5),s.Ub(9,"mat-form-field",6),s.Pb(10,"input",7),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",3),s.Ub(12,"label",8),s.Lc(13,"Einheiten"),s.Tb(),s.Ub(14,"div",5),s.Pb(15,"app-units-input",9),s.Tb(),s.Tb(),s.Ub(16,"div",3),s.Ub(17,"div",10),s.Ub(18,"button",11),s.fc("click",(function(){return t.add(t.form.value)})),s.Lc(19," Hinzuf\xfcgen. "),s.Tb(),s.Jc(20,g,2,1,"button",12),s.Jc(21,T,2,0,"button",13),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(22,"div",14),s.Ub(23,"mat-card"),s.Ub(24,"table",15),s.Sb(25,16),s.Jc(26,v,2,0,"th",17),s.Jc(27,w,2,1,"td",18),s.Rb(),s.Sb(28,19),s.Jc(29,k,2,0,"th",17),s.Jc(30,U,2,1,"td",18),s.Rb(),s.Jc(31,C,1,0,"tr",20),s.Jc(32,y,1,0,"tr",21),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(4),s.pc("formGroup",t.form),s.Bb(14),s.pc("disabled",!t.form.valid),s.Bb(2),s.pc("ngIf",t.selected),s.Bb(1),s.pc("ngIf",t.selected),s.Bb(3),s.pc("dataSource",t.dataSource),s.Bb(7),s.pc("matHeaderRowDef",t.columnsToDisplay),s.Bb(1),s.pc("matRowDefColumns",t.columnsToDisplay))},directives:[l.a,l.c,r.x,r.p,r.i,m.b,d.b,r.c,r.o,r.g,u.a,p.a,h.a,i.m,c.j,c.c,c.e,c.b,c.g,c.i,c.d,c.a,f.a,c.f,c.h],styles:["button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();var L=n("XNiG"),O=n("1G5W");class R{getName(){return"GetPossibleWebhooks"}}var x=n("lJxs"),N=n("SxV6");class j{getName(){return"GetSetupWebhooks"}}class I{constructor(e){this.id=e}getName(){return"io.robertengel.dsbot.discord.webhook.ws.packet.incoming.DeleteWebhookRequest"}}class S{constructor(e,t,n,i){this.ordinal=e,this.template=t,this.username=n,this.url=i}getName(){return"io.robertengel.dsbot.discord.webhook.ws.packet.incoming.AddWebhookRequest"}}var B=n("7nMs");let D=(()=>{class e{constructor(e){this.web=e}addEvents(){return this.web.observable("WebhookAddedEvent")}deleteEvents(){return this.web.observable("WebhookDeletedEvent").pipe(Object(x.a)(e=>e.id))}getPossible(){return this.web.observable("PossibleWebhooksResponse",new R).pipe(Object(N.a)())}getSetup(){return this.web.observable("SetupWebhooksResponse",new j).pipe(Object(N.a)())}delete(e){this.web.sendData(new I(e))}add(e,t,n,i){this.web.sendData(new S(e,t,n,i))}}return e.\u0275fac=function(t){return new(t||e)(s.cc(B.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=n("ZTz/"),P=n("FKr1"),M=n("MutI");function $(e,t){if(1&e&&(s.Ub(0,"mat-option",19),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.pc("value",e),s.Bb(1),s.Mc(e.name)}}function V(e,t){if(1&e&&(s.Sb(0),s.Lc(1),s.Rb()),2&e){const e=t.$implicit;s.Bb(1),s.Oc(" $","{","",e,"} ")}}function A(e,t){if(1&e&&(s.Ub(0,"mat-hint"),s.Lc(1," Variablen: "),s.Jc(2,V,2,2,"ng-container",20),s.Lc(3),s.Tb()),2&e){const e=s.jc();s.Bb(2),s.pc("ngForOf",e.selected.fields),s.Bb(1),s.Oc(" $","{","world} $","{","account} ")}}function J(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",21),s.fc("click",(function(){s.Ac(e);const t=s.jc();return t.delete(t.editEntity.id)})),s.Lc(1," L\xf6schen "),s.Tb()}}function F(e,t){if(1&e){const e=s.Vb();s.Ub(0,"a",23),s.fc("click",(function(){s.Ac(e);const n=t.$implicit;return s.jc(2).edit(n)})),s.Ub(1,"span",24),s.Lc(2),s.Tb(),s.Ub(3,"span",24),s.Lc(4),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Bb(2),s.Mc(e.webhook),s.Bb(2),s.Mc(e.template)}}function W(e,t){if(1&e&&(s.Ub(0,"mat-card"),s.Ub(1,"mat-nav-list"),s.Jc(2,F,5,2,"a",22),s.Tb(),s.Tb()),2&e){const e=s.jc();s.Bb(2),s.pc("ngForOf",e.setup)}}let K=(()=>{class e{constructor(e,t){this.discord=e,this.fb=t,this.unsub$=new L.b,this.possible=[],this.setup=[],this.form=this.fb.group({ordinal:["",r.v.required],template:["",r.v.required],username:["",r.v.required],url:["",r.v.required]})}ngOnInit(){this.form.get("ordinal").valueChanges.subscribe(e=>{this.selected=e,this.form.patchValue({username:e.username,template:e.template},{emitEvent:!1})}),this.discord.getPossible().pipe(Object(O.a)(this.unsub$)).subscribe(e=>{this.possible=e}),this.discord.getSetup().pipe(Object(O.a)(this.unsub$)).subscribe(e=>{this.setup=e}),this.discord.addEvents().pipe(Object(O.a)(this.unsub$)).subscribe(e=>{this.setup=[...this.setup,e]}),this.discord.deleteEvents().pipe(Object(O.a)(this.unsub$)).subscribe(e=>{this.setup=this.setup.filter(t=>t.id!==e)})}delete(e){this.discord.delete(e),this.editEntity=void 0}submit(e){this.discord.add(e.ordinal.ordinal,e.template,e.username,e.url)}edit(e){let t;this.editEntity=e,this.possible.forEach(n=>{n.name===e.webhook&&(t=n)}),this.form.setValue({ordinal:t,template:e.template,username:e.username,url:e.url},{emitEvent:!1})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(D),s.Ob(r.d))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-discord-webhooks"]],decls:50,vars:7,consts:[[1,"row"],[1,"col-xl-6"],[3,"formGroup"],[1,"form-group","row"],["for","event",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"w-100"],["id","event","formControlName","ordinal"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","template",1,"label","col-sm-3","col-form-label"],["id","template","matInput","","placeholder","Template","formControlName","template","matBadge","i"],["for","username",1,"label","col-sm-3","col-form-label"],["id","username","matInput","","placeholder","Username","formControlName","username"],["for","url",1,"label","col-sm-3","col-form-label"],["type","url","id","url","matInput","","placeholder","https://discordapp.com/api/webhooks/...","formControlName","url"],[1,"offset-sm-3","col-sm-9"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["class","ml-2","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",1,"ml-2",3,"click"],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["mat-line",""]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"mat-card"),s.Ub(3,"mat-card-content"),s.Ub(4,"form",2),s.Ub(5,"div",3),s.Ub(6,"label",4),s.Lc(7,"Event"),s.Tb(),s.Ub(8,"div",5),s.Ub(9,"mat-form-field",6),s.Ub(10,"mat-label"),s.Lc(11,"Event"),s.Tb(),s.Ub(12,"mat-select",7),s.Jc(13,$,2,2,"mat-option",8),s.Tb(),s.Jc(14,A,4,3,"mat-hint",9),s.Tb(),s.Tb(),s.Tb(),s.Ub(15,"div",3),s.Ub(16,"label",10),s.Lc(17,"Template"),s.Tb(),s.Ub(18,"div",5),s.Ub(19,"mat-form-field",6),s.Pb(20,"input",11),s.Ub(21,"mat-hint"),s.Lc(22," Nachricht die bei ausgew\xe4hltem Event gesendet werden soll."),s.Pb(23,"br"),s.Lc(24," Variablen k\xf6nnen so eingesetzt werden: "),s.Ub(25,"i"),s.Lc(26),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(27,"div",3),s.Ub(28,"label",12),s.Lc(29,"Username"),s.Tb(),s.Ub(30,"div",5),s.Ub(31,"mat-form-field",6),s.Pb(32,"input",13),s.Ub(33,"mat-hint"),s.Lc(34,"Nutzername unter welchem die Nachricht gesendet wird."),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(35,"div",3),s.Ub(36,"label",14),s.Lc(37,"URL"),s.Tb(),s.Ub(38,"div",5),s.Ub(39,"mat-form-field",6),s.Pb(40,"input",15),s.Ub(41,"mat-hint"),s.Lc(42,"Discord-Webhook URL"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(43,"div",3),s.Ub(44,"div",16),s.Ub(45,"button",17),s.fc("click",(function(){return t.submit(t.form.value)})),s.Lc(46," Hinzuf\xfcgen. "),s.Tb(),s.Jc(47,J,2,0,"button",18),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(48,"div",1),s.Jc(49,W,3,1,"mat-card",9),s.Tb(),s.Tb()),2&e&&(s.Bb(4),s.pc("formGroup",t.form),s.Bb(9),s.pc("ngForOf",t.possible),s.Bb(1),s.pc("ngIf",t.selected),s.Bb(12),s.Nc("$","{","variablenname}"),s.Bb(19),s.pc("disabled",!t.form.valid),s.Bb(2),s.pc("ngIf",t.editEntity),s.Bb(2),s.pc("ngIf",t.setup.length>0))},directives:[l.a,l.c,r.x,r.p,r.i,m.b,m.f,q.a,r.o,r.g,i.l,i.m,d.b,r.c,u.a,m.e,h.a,P.n,M.e,M.b,P.l],styles:[""]}),e})();var G=n("ZFy/"),_=n("Tr4x"),H=n("NFeN");function z(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",18),s.fc("click",(function(){return s.Ac(e),s.jc(2).refreshKey()})),s.Ub(1,"mat-icon"),s.Lc(2,"refresh"),s.Tb(),s.Tb()}}function Z(e,t){1&e&&(s.Sb(0),s.Lc(1," Bot kann von au\xdfen gesteuert werden. "),s.Rb())}function X(e,t){1&e&&(s.Sb(0),s.Lc(1," Bot kann nicht von au\xdfen gesteuert werden. "),s.Rb())}function Q(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",19),s.fc("click",(function(){return s.Ac(e),s.jc(2).closeExternal()})),s.Lc(1," Schlie\xdfen "),s.Tb()}}function Y(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",10),s.fc("click",(function(){return s.Ac(e),s.jc(2).openExternal()})),s.Lc(1," \xd6ffnen "),s.Tb()}}function ee(e,t){if(1&e&&(s.Ub(0,"div",2),s.Ub(1,"mat-card"),s.Ub(2,"mat-card-title"),s.Lc(3," Erlauben den Bot von extern zu steuern "),s.Tb(),s.Ub(4,"mat-card-content"),s.Ub(5,"div",0),s.Ub(6,"div",11),s.Ub(7,"mat-form-field",4),s.Ub(8,"mat-label"),s.Lc(9,"Token"),s.Tb(),s.Pb(10,"input",12),s.Jc(11,z,3,0,"button",13),s.Ub(12,"button",14),s.Ub(13,"mat-icon"),s.Lc(14,"content_copy"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(15,"div",0),s.Ub(16,"div",3),s.Jc(17,Z,2,0,"ng-container",15),s.Jc(18,X,2,0,"ng-container",15),s.Tb(),s.Ub(19,"div",6),s.Jc(20,Q,2,0,"button",16),s.Jc(21,Y,2,0,"button",17),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e){const e=s.jc();s.Bb(10),s.pc("value",e.key),s.Bb(1),s.pc("ngIf",!e.open),s.Bb(1),s.pc("cdkCopyToClipboard",e.key),s.Bb(5),s.pc("ngIf",e.open),s.Bb(1),s.pc("ngIf",!e.open),s.Bb(2),s.pc("ngIf",e.open),s.Bb(1),s.pc("ngIf",!e.open)}}let te=(()=>{class e{constructor(e){this.web=e,this.unsub$=new L.b,this.control=new r.e,this.open=!1}ngOnInit(){this.web.isOpen(this.unsub$).subscribe(e=>{this.open=e}),this.web.getKey(this.unsub$).subscribe(e=>{this.key=e});const e=localStorage.getItem("tw.token");null!=e&&this.control.setValue(e)}refreshKey(){this.web.refreshKey()}valid(){var e;return null===(e=this.control.value)||void 0===e?void 0:e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)}connectExternal(e){this.web.connectExternal(e)}connectLocal(){this.web.connectLocal()}openExternal(){this.web.open()}closeExternal(){this.web.close()}get connected(){return this.web.isConnected()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(B.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-bot-ip"]],decls:22,vars:5,consts:[[1,"row"],["class","col-xl-4",4,"ngIf"],[1,"col-xl-4"],[1,"col-md-9"],[1,"w-100"],["matInput","",3,"formControl"],[1,"col-xm-3"],[1,"row","mb-1"],[1,"col-md-12"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],[1,"col-xl-12"],["matInput","","type","text","readonly","",3,"value"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Refresh","matTooltip","Neu generieren",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Copy","matTooltip","Kopieren",3,"cdkCopyToClipboard"],[4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Refresh","matTooltip","Neu generieren",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Jc(1,ee,22,7,"div",1),s.Ub(2,"div",2),s.Ub(3,"mat-card"),s.Ub(4,"mat-card-title"),s.Lc(5," Einen Bot extern steuern "),s.Tb(),s.Ub(6,"mat-card-content"),s.Ub(7,"div",0),s.Ub(8,"div",3),s.Ub(9,"mat-form-field",4),s.Ub(10,"mat-label"),s.Lc(11,"Token"),s.Tb(),s.Pb(12,"input",5),s.Tb(),s.Tb(),s.Ub(13,"div",6),s.Ub(14,"div",7),s.Ub(15,"div",8),s.Ub(16,"button",9),s.fc("click",(function(){return t.connectExternal(t.control.value)})),s.Lc(17," Verbinden "),s.Tb(),s.Tb(),s.Tb(),s.Ub(18,"div",0),s.Ub(19,"div",8),s.Ub(20,"button",10),s.fc("click",(function(){return t.connectLocal()})),s.Lc(21," Lokal Verbinden "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(1),s.pc("ngIf",t.connected),s.Bb(1),s.Gb("offset-xl-4",!t.connected),s.Bb(10),s.pc("formControl",t.control),s.Bb(4),s.pc("disabled",!t.valid()))},directives:[i.m,l.a,l.h,l.c,m.b,m.f,d.b,r.c,r.o,r.f,h.a,m.g,G.a,_.a,H.a],styles:[""]}),e})();var ne=n("n2/Z"),ie=n("ujwr"),oe=n("jMqV");const se=[{path:"",component:a,children:[{path:"discord",component:K,canActivate:[ne.a]},{path:"troops",component:E,canActivate:[ne.a]},{path:"anti-captcha",component:(()=>{class e{constructor(e){this.driver=e,this.unsub$=new L.b,this.enable=new r.e(!1),this.key=new r.e("",r.v.required)}ngOnInit(){this.driver.config(this.unsub$).subscribe(e=>{this.enable.setValue(e.antiCaptchaEnabled,{emitEvent:!1}),this.key.setValue(e.antiCaptchaKey)}),this.enable.valueChanges.subscribe(e=>{this.driver.setEnabled(e)})}saveKey(){this.driver.setKey(this.key.value)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(ie.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-anti-captcha"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-xl-6"],[1,"col-xl-12"],[3,"formControl"],[1,"col-xl-10"],[1,"w-100"],["matInput","",3,"formControl"],[1,"col-xl-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"mat-card"),s.Ub(3,"div",0),s.Ub(4,"div",2),s.Ub(5,"mat-slide-toggle",3),s.Lc(6,"Anti-Captcha verwenden"),s.Tb(),s.Tb(),s.Tb(),s.Ub(7,"div",0),s.Ub(8,"div",4),s.Ub(9,"mat-form-field",5),s.Ub(10,"mat-label"),s.Lc(11,"Key"),s.Tb(),s.Pb(12,"input",6),s.Tb(),s.Tb(),s.Ub(13,"div",7),s.Ub(14,"button",8),s.fc("click",(function(){return t.saveKey()})),s.Lc(15," Speichern "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(5),s.pc("formControl",t.enable),s.Bb(7),s.pc("formControl",t.key))},directives:[l.a,oe.a,r.o,r.f,m.b,m.f,d.b,r.c,h.a],styles:[""]}),e})(),canActivate:[ne.a]},{path:"ip",component:te}]}];let ae=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[o.f.forChild(se)],o.f]}),e})();var ce=n("BLWB");let re=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[i.c,ae,h.b,ce.a,l.f,c.l,r.t,m.d,d.c,u.b,q.b,M.c,H.b,_.c,G.b,oe.b]]}),e})()}}]);