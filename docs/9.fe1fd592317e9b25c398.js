(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{pu8Q:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return k}));var i=n("fXoL"),r=n("ofXK"),a=n("FKr1"),s=n("8LU1"),o=n("nLfN"),c=n("R1ws");function l(t,e){if(1&t&&(i.ic(),i.Pb(0,"circle",3)),2&t){const t=i.jc();i.Hc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Cb("r",t._getCircleRadius())}}function m(t,e){if(1&t&&(i.ic(),i.Pb(0,"circle",3)),2&t){const t=i.jc();i.Hc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Cb("r",t._getCircleRadius())}}function b(t,e){if(1&t&&(i.ic(),i.Pb(0,"circle",3)),2&t){const t=i.jc();i.Hc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Cb("r",t._getCircleRadius())}}function d(t,e){if(1&t&&(i.ic(),i.Pb(0,"circle",3)),2&t){const t=i.jc();i.Hc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),i.Cb("r",t._getCircleRadius())}}const p=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class f{constructor(t){this._elementRef=t}}const u=Object(a.v)(f,"primary"),h=new i.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let g=(()=>{class t extends u{constructor(e,n,i,r,a){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),s.has(i.head)||s.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Object(s.f)(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Object(s.f)(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Object(s.f)(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Object(o.c)(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(o.a),i.Ob(r.d,8),i.Ob(c.a,8),i.Ob(h))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.Cb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.Hc("width",e.diameter,"px")("height",e.diameter,"px"),i.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i.yb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.ic(),i.Ub(0,"svg",0),i.Kc(1,l,1,9,"circle",1),i.Kc(2,m,1,7,"circle",2),i.Tb()),2&t&&(i.Hc("width",e.diameter,"px")("height",e.diameter,"px"),i.pc("ngSwitch","indeterminate"===e.mode),i.Cb("viewBox",e._getViewBox()),i.Bb(1),i.pc("ngSwitchCase",!0),i.Bb(1),i.pc("ngSwitchCase",!1))},directives:[r.o,r.p],styles:[p],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),k=(()=>{class t extends g{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(o.a),i.Ob(r.d,8),i.Ob(c.a,8),i.Ob(h))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Hc("width",e.diameter,"px")("height",e.diameter,"px"),i.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[i.yb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.ic(),i.Ub(0,"svg",0),i.Kc(1,b,1,9,"circle",1),i.Kc(2,d,1,7,"circle",2),i.Tb()),2&t&&(i.Hc("width",e.diameter,"px")("height",e.diameter,"px"),i.pc("ngSwitch","indeterminate"===e.mode),i.Cb("viewBox",e._getViewBox()),i.Bb(1),i.pc("ngSwitchCase",!0),i.Bb(1),i.pc("ngSwitchCase",!1))},directives:[r.o,r.p],styles:[p],encapsulation:2,changeDetection:0}),t})(),v=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[a.i,r.c],a.i]}),t})()},sIr3:function(t,e,n){"use strict";n.r(e),n.d(e,"IncsModule",(function(){return pt}));var i=n("ofXK"),r=n("tyNb"),a=n("XNiG"),s=n("1G5W"),o=n("fXoL"),c=n("M9ds");const l=function(t){return[t]};function m(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",2),o.fc("click",(function(){o.Bc(t);const n=e.$implicit;return o.jc().activeLink=n})),o.Mc(1),o.Tb()}if(2&t){const t=e.$implicit,n=o.jc();o.pc("active",n.activeLink===t)("routerLink",o.tc(3,l,t.link)),o.Bb(1),o.Oc(" ",t.title," ")}}let b=(()=>{class t{constructor(t){this.router=t,this.links=[{title:"Home",link:"/incs"}],this.activeLink=this.links[0],this.unsub$=new a.b}ngOnInit(){this.setActive(),this.router.events.pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.setActive()})}setActive(){for(const t of this.links)this.router.isActive(t.link,!1)&&(this.activeLink=t)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(r.b))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-incs"]],decls:3,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,e){1&t&&(o.Ub(0,"nav",0),o.Kc(1,m,2,5,"span",1),o.Tb(),o.Pb(2,"router-outlet")),2&t&&(o.Bb(1),o.pc("ngForOf",e.links))},directives:[c.b,i.l,r.f,c.a,r.c],styles:[""]}),t})();var d=n("l5mm"),p=n("lJxs"),f=n("UXun"),u=n("3Pt+"),h=n("7nMs"),g=n("fer1"),k=n("0MNC"),v=n("PDjf"),_=n("5QHs"),T=n("Q2Ze"),U=n("ZTz/"),w=n("jTwa"),S=n("FKr1"),O=n("pu8Q"),x=n("OaSA"),C=n("irRR"),y=n("DSdR");function A(t,e){1&t&&o.Pb(0,"app-unit-render",8),2&t&&o.pc("value",e.$implicit)}function M(t,e){if(1&t&&(o.Ub(0,"mat-option",9),o.Pb(1,"app-unit-render",9),o.Tb()),2&t){const t=e.$implicit;o.pc("value",t),o.Bb(1),o.pc("value",t)}}function B(t,e){if(1&t&&(o.Ub(0,"mat-form-field",4),o.Ub(1,"mat-label"),o.Mc(2,"Einheit"),o.Tb(),o.Ub(3,"mat-select",5),o.Ub(4,"mat-select-trigger"),o.Kc(5,A,1,1,"app-unit-render",6),o.Tb(),o.Kc(6,M,2,2,"mat-option",7),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(3),o.pc("formControl",t.unitsForm),o.Bb(2),o.pc("ngForOf",t.unitsForm.value),o.Bb(1),o.pc("ngForOf",t.units)}}function L(t,e){1&t&&(o.Ub(0,"div",10),o.Ub(1,"div",11),o.Pb(2,"span"),o.Pb(3,"mat-spinner"),o.Pb(4,"span"),o.Tb(),o.Tb())}function R(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Name"),o.Tb())}function D(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Name:"),o.Tb(),o.Ub(3,"a",25),o.Mc(4),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.pc("routerLink","/incs/"+t.id),o.Bb(1),o.Nc(t.name)}}function E(t,e){1&t&&o.Pb(0,"app-unit-render",8),2&t&&o.pc("value",e.$implicit)}function K(t,e){if(1&t&&(o.Ub(0,"mat-option",9),o.Pb(1,"app-unit-render",9),o.Tb()),2&t){const t=e.$implicit;o.pc("value",t),o.Bb(1),o.pc("value",t)}}function P(t,e){if(1&t&&(o.Ub(0,"mat-header-cell"),o.Ub(1,"mat-form-field",4),o.Ub(2,"mat-label"),o.Mc(3,"Einheit"),o.Tb(),o.Ub(4,"mat-select",5),o.Ub(5,"mat-select-trigger"),o.Kc(6,E,1,1,"app-unit-render",6),o.Tb(),o.Kc(7,K,2,2,"mat-option",7),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.jc(2);o.Bb(4),o.pc("formControl",t.unitsForm),o.Bb(2),o.pc("ngForOf",t.unitsForm.value),o.Bb(1),o.pc("ngForOf",t.units)}}function $(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Einheit:"),o.Tb(),o.Pb(3,"app-unit-render",9),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.pc("value",t.slowestUnit)}}function I(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Ziel"),o.Tb())}function j(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Ziel:"),o.Tb(),o.Pb(3,"app-village-render",9),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.pc("value",t.target)}}function F(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Herkunft"),o.Tb())}function V(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Herkunft:"),o.Tb(),o.Pb(3,"app-village-render",9),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.pc("value",t.origin)}}function N(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Spieler"),o.Tb())}function X(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Spieler:"),o.Tb(),o.Mc(3),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.Oc(" ",t.player.name," ")}}function W(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Ankunft"),o.Tb())}function H(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Ankunft:"),o.Tb(),o.Mc(3),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.Oc(" ",t.arrival," ")}}function z(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Mc(1,"Verbleibend"),o.Tb())}function G(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"span",24),o.Mc(2,"Verbleibend:"),o.Tb(),o.Mc(3),o.kc(4,"hms"),o.Tb()),2&t){const t=e.$implicit;o.Bb(3),o.Oc(" ",o.lc(4,1,1e3*t.remaining)," ")}}function Z(t,e){1&t&&o.Pb(0,"mat-header-row")}function Q(t,e){1&t&&o.Pb(0,"mat-row")}function J(t,e){if(1&t&&(o.Ub(0,"mat-table",12),o.Sb(1,13),o.Kc(2,R,2,0,"mat-header-cell",14),o.Kc(3,D,5,2,"mat-cell",15),o.Rb(),o.Sb(4,16),o.Kc(5,P,8,3,"mat-header-cell",14),o.Kc(6,$,4,1,"mat-cell",15),o.Rb(),o.Sb(7,17),o.Kc(8,I,2,0,"mat-header-cell",14),o.Kc(9,j,4,1,"mat-cell",15),o.Rb(),o.Sb(10,18),o.Kc(11,F,2,0,"mat-header-cell",14),o.Kc(12,V,4,1,"mat-cell",15),o.Rb(),o.Sb(13,19),o.Kc(14,N,2,0,"mat-header-cell",14),o.Kc(15,X,4,1,"mat-cell",15),o.Rb(),o.Sb(16,20),o.Kc(17,W,2,0,"mat-header-cell",14),o.Kc(18,H,4,1,"mat-cell",15),o.Rb(),o.Sb(19,21),o.Kc(20,z,2,0,"mat-header-cell",14),o.Kc(21,G,5,3,"mat-cell",15),o.Rb(),o.Kc(22,Z,1,0,"mat-header-row",22),o.Kc(23,Q,1,0,"mat-row",23),o.Tb()),2&t){const t=o.jc();o.pc("dataSource",t.incs),o.Bb(22),o.pc("matHeaderRowDef",t.displayedColumns),o.Bb(1),o.pc("matRowDefColumns",t.displayedColumns)}}const Y=function(){return[10,50,100,250]};let q=(()=>{class t{constructor(t,e,n){this.web=t,this.incService=e,this.breakpointObserver=n,this.unsub$=new a.b,this.incs=[],this.size=10,this.unitsForm=new u.e([]),this.cancelled=!1,this.displayedColumns=["name","slowestUnit","target","origin","player","arrival","remaining"],this.isHandset$=this.breakpointObserver.observe("(max-width: 900px)").pipe(Object(p.a)(t=>t.matches),Object(f.a)()),this.loading=!1}ngOnInit(){this.web.info().pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.units=t.units}),this.loading=!0,this.incService.getIncList(0,10,!1).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1}),Object(d.a)(1e3).pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.incs.forEach((t,e,n)=>{n[e].remaining>0&&(n[e].remaining-=1)})}),this.unitsForm.valueChanges.pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.loading=!0,this.incService.getIncList(0,this.size,this.cancelled,t).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1})})}pageUpdate(t){this.size=t.pageSize,this.loading=!0,this.incService.getIncList(t.pageIndex*t.pageSize,t.pageSize,this.cancelled,this.unitsForm.value).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(h.a),o.Ob(g.a),o.Ob(k.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-incs-overview"]],decls:6,vars:9,consts:[["appearance","fill",4,"ngIf"],["class","row",4,"ngIf"],["class","w-100",3,"dataSource",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],["appearance","fill"],["multiple","",3,"formControl"],["class","p-1",3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],[1,"p-1",3,"value"],[3,"value"],[1,"row"],[1,"col-md-12","flex-between"],[1,"w-100",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","slowestUnit"],["matColumnDef","target"],["matColumnDef","origin"],["matColumnDef","player"],["matColumnDef","arrival"],["matColumnDef","remaining"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"mobile-label"],[3,"routerLink"]],template:function(t,e){1&t&&(o.Ub(0,"mat-card"),o.Kc(1,B,7,3,"mat-form-field",0),o.kc(2,"async"),o.Kc(3,L,5,0,"div",1),o.Kc(4,J,24,3,"mat-table",2),o.Ub(5,"mat-paginator",3),o.fc("page",(function(t){return e.pageUpdate(t)})),o.Tb(),o.Tb()),2&t&&(o.Bb(1),o.pc("ngIf",!0===o.lc(2,6,e.isHandset$)),o.Bb(2),o.pc("ngIf",e.loading),o.Bb(1),o.pc("ngIf",!e.loading),o.Bb(1),o.pc("length",e.count)("pageSize",10)("pageSizeOptions",o.sc(8,Y)))},directives:[v.a,i.m,_.a,T.b,T.f,U.a,u.n,u.f,U.c,i.l,w.a,S.l,O.b,x.j,x.c,x.e,x.b,x.g,x.i,x.d,x.a,r.d,C.a,x.f,x.h],pipes:[i.b,y.a],styles:["a[_ngcontent-%COMP%]{color:inherit}.mat-header-cell[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mobile-label[_ngcontent-%COMP%]{display:none}@media(max-width:900px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px}}"]}),t})();var tt=n("Kj3r"),et=n("bTqV");function nt(t,e){1&t&&(o.Ub(0,"div",2),o.Ub(1,"div",3),o.Pb(2,"span"),o.Pb(3,"mat-spinner"),o.Pb(4,"span"),o.Tb(),o.Tb())}function it(t,e){1&t&&(o.Sb(0),o.Mc(1," Konnte keinen Inc mit dieser ID finden. "),o.Rb())}function rt(t,e){if(1&t&&(o.Ub(0,"mat-option",9),o.Pb(1,"app-unit-render",9),o.Tb()),2&t){const t=e.$implicit;o.pc("value",t),o.Bb(1),o.pc("value",t)}}const at=function(){return{type:"SUPPORT"}},st=function(t,e,n){return["/planner/command",t,e,n]},ot=function(){return{type:"ATTACK"}};function ct(t,e){if(1&t&&(o.Ub(0,"mat-card-content"),o.Ub(1,"div",2),o.Ub(2,"div",4),o.Ub(3,"mat-card",5),o.Ub(4,"div",6),o.Ub(5,"div",7),o.Mc(6),o.Tb(),o.Ub(7,"div",7),o.Ub(8,"mat-select",8),o.Ub(9,"mat-select-trigger"),o.Pb(10,"app-unit-render",9),o.Tb(),o.Kc(11,rt,2,2,"mat-option",10),o.Tb(),o.Tb(),o.Ub(12,"div",11),o.Mc(13," Ziel: "),o.Pb(14,"app-village-render",9),o.Tb(),o.Ub(15,"div",11),o.Mc(16," Herkunft: "),o.Pb(17,"app-village-render",9),o.Tb(),o.Ub(18,"div",7),o.Mc(19),o.Tb(),o.Ub(20,"div",11),o.Mc(21),o.Tb(),o.Ub(22,"div",11),o.Mc(23),o.Tb(),o.Ub(24,"div",7),o.Mc(25),o.kc(26,"hms"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(27,"div",12),o.Ub(28,"div",2),o.Ub(29,"div",13),o.Ub(30,"button",14),o.Mc(31," DEFF planen. "),o.Tb(),o.Tb(),o.Tb(),o.Ub(32,"div",2),o.Ub(33,"div",13),o.Ub(34,"button",15),o.Mc(35," Cleaner planen. "),o.Tb(),o.Tb(),o.Tb(),o.Ub(36,"div",2),o.Ub(37,"div",13),o.Ub(38,"button",15),o.Mc(39," Retime planen. "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(6),o.Oc(" ",t.inc.name," "),o.Bb(2),o.pc("formControl",t.unitForm),o.Bb(2),o.pc("value",t.unitForm.value),o.Bb(1),o.pc("ngForOf",t.units),o.Bb(3),o.pc("value",t.inc.target),o.Bb(3),o.pc("value",t.inc.origin),o.Bb(2),o.Oc(" Spieler: ",t.inc.player.name," "),o.Bb(2),o.Oc(" Ankunft: ",t.inc.arrival," "),o.Bb(2),o.Oc(" R\xfcckkehr: ",t.inc.return," "),o.Bb(2),o.Oc(" Verbleibend: ",o.lc(26,13,1e3*t.inc.remaining)," "),o.Bb(5),o.pc("routerLink",o.vc(16,st,t.inc.target.id,t.inc.time,o.sc(15,at))),o.Bb(4),o.pc("routerLink",o.vc(21,st,t.inc.target.id,t.inc.time,o.sc(20,ot))),o.Bb(4),o.pc("routerLink",o.vc(26,st,t.inc.origin.id,t.inc.returnTime,o.sc(25,ot)))}}const lt=[{path:"",component:b,children:[{path:":id",component:(()=>{class t{constructor(t,e,n){this.route=t,this.incService=e,this.web=n,this.unsub$=new a.b,this.routeChange$=new a.b,this.unitForm=new u.e,this.units=[],this.loading=!1}ngOnInit(){this.web.info().subscribe(t=>{this.units=t.units}),this.route.paramMap.subscribe(t=>{this.routeChange$.next(),this.loading=!0,this.incService.getInc(parseInt(t.get("id"),10)).subscribe(t=>{this.inc=t,this.unitForm.setValue(this.inc.slowestUnit),this.loading=!1}),this.incService.incUpdates(parseInt(t.get("id"),10)).pipe(Object(s.a)(this.routeChange$)).subscribe(t=>{this.inc=t,this.unitForm.setValue(this.inc.slowestUnit)})}),Object(d.a)(1e3).pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.inc&&this.inc.remaining--}),this.unitForm.valueChanges.pipe(Object(tt.a)(500)).subscribe(t=>{this.inc&&t!==this.inc.slowestUnit&&this.incService.updateSlowest(this.inc.id,t)})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete(),this.routeChange$.next(),this.routeChange$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(r.a),o.Ob(g.a),o.Ob(h.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-incs-details"]],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","flex-between"],[1,"col-xl-9"],[1,"mat-elevation-z6","h-100"],[1,"row","align-items-center"],[1,"col-xl-1"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-2"],[1,"col-xl-3"],[1,"col-md-12"],["mat-raised-button","","color","accent",1,"w-100","mat-elevation-z6",3,"routerLink"],["mat-raised-button","","color","warn",1,"w-100","mat-elevation-z6","mt-2",3,"routerLink"]],template:function(t,e){1&t&&(o.Ub(0,"mat-card"),o.Kc(1,nt,5,0,"div",0),o.Kc(2,it,2,0,"ng-container",1),o.Kc(3,ct,40,30,"mat-card-content",1),o.Tb()),2&t&&(o.Bb(1),o.pc("ngIf",e.loading),o.Bb(1),o.pc("ngIf",!e.inc&&!e.loading),o.Bb(1),o.pc("ngIf",e.inc))},directives:[v.a,i.m,O.b,v.b,U.a,u.n,u.f,U.c,w.a,i.l,C.a,et.a,r.c,S.l],pipes:[y.a],styles:[""]}),t})()},{path:"",pathMatch:"full",component:q}]}];let mt=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[r.e.forChild(lt)],r.e]}),t})();var bt=n("BLWB"),dt=n("NFeN");let pt=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[i.c,mt,c.c,v.d,bt.a,x.l,et.b,dt.b,_.b,T.d,U.b,u.s,O.a]]}),t})()}}]);