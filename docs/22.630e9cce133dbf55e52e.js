(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"5LBN":function(t,e,i){"use strict";i.r(e),i.d(e,"CatapultModule",(function(){return fe}));var n=i("ofXK"),a=i("tyNb"),c=i("XNiG"),s=i("1G5W"),o=i("fXoL"),b=i("M9ds"),r=i("PDjf");const l=function(t){return[t]};function u(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",2),o.fc("click",(function(){o.Ac(t);const i=e.$implicit;return o.jc().activeLink=i})),o.Lc(1),o.Tb()}if(2&t){const t=e.$implicit,i=o.jc();o.pc("active",i.activeLink===t)("routerLink",o.tc(3,l,t.link)),o.Bb(1),o.Nc(" ",t.title," ")}}let d=(()=>{class t{constructor(t){this.router=t,this.links=[{title:"Home",link:"/cata"},{title:"Baba \xdcbersicht",link:"/cata/info"}],this.activeLink=this.links[0],this.unsub$=new c.b}ngOnInit(){this.setActive(),this.router.events.pipe(Object(s.a)(this.unsub$)).subscribe(t=>{this.setActive()})}setActive(){for(const t of this.links)this.router.isActive(t.link,!1)&&(this.activeLink=t)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(a.c))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult"]],decls:4,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,e){1&t&&(o.Ub(0,"nav",0),o.Jc(1,u,2,5,"span",1),o.Tb(),o.Ub(2,"mat-card"),o.Pb(3,"router-outlet"),o.Tb()),2&t&&(o.Bb(1),o.pc("ngForOf",e.links))},directives:[b.b,n.l,r.a,a.g,b.a,a.d],encapsulation:2}),t})();var p=i("3Pt+"),m=i("iELJ");class g{getName(){return"BabaPruneConfigRequest"}}var f=i("SxV6"),h=i("lJxs");class v{constructor(t,e){this.range=t,this.amount=e}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneCreateGroupRequest"}}class T{constructor(t,e){this.group=t,this.village=e}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneAddVillageRequest"}}class U{constructor(t,e){this.group=t,this.village=e}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneRemoveVillageRequest"}}class w{constructor(t,e,i,n){this.id=t,this.enabled=e,this.range=i,this.amount=n}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneEditGroupRequest"}}class B{constructor(t){this.id=t}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneDeleteGroupRequest"}}class x{constructor(t){this.enabled=t}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneSetEnabledRequest"}}class k{constructor(t,e,i,n){this.id=Math.random(),this.max=t,this.first=e,this.sort=i,this.order=n}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.GetBabaInformationRequest"}}class L{constructor(t){this.reductions=t}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneSetReductionsRequest"}}class C{constructor(t,e){this.group=t,this.villages=e}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneMassAddVillageRequest"}}class O{constructor(t,e){this.group=t,this.villages=e}getName(){return"io.robertengel.dsbot.feature.autocata.ws.packet.incoming.BabaPruneMassRemoveVillageRequest"}}var y=i("7nMs");let I=(()=>{class t{constructor(t){this.websocket=t}getBabaInfo(t,e,i="",n="asc"){const a=new k(e,t,i,n);return this.websocket.observable("BabaInformationListResponse",a).pipe(Object(f.a)(t=>t.id===a.id))}getConfig(t){return this.websocket.observable("BabaPruneConfigResponse",new g).pipe(Object(s.a)(t))}groupCreatedEvent(t){return this.websocket.observable("BabaPruneGroupCreatedEvent").pipe(Object(s.a)(t))}groupEditedEvent(t){return this.websocket.observable("BabaPruneGroupEditEvent").pipe(Object(s.a)(t))}groupDeletedEvent(t){return this.websocket.observable("BabaPruneGroupDeletedEvent").pipe(Object(s.a)(t),Object(h.a)(t=>t.id))}villageAddedEvent(t){return this.websocket.observable("BabaPruneVillageAddedEvent").pipe(Object(s.a)(t))}villageRemovedEvent(t){return this.websocket.observable("BabaPruneVillageRemovedEvent").pipe(Object(s.a)(t))}setEnabled(t){this.websocket.sendData(new x(t))}setReductions(t){this.websocket.sendData(new L(t))}createGroup(t,e){this.websocket.sendData(new v(t,e))}editGroup(t,e,i,n){this.websocket.sendData(new w(t,e,i,n))}deleteGroup(t){this.websocket.sendData(new B(t))}addVillage(t,e){this.websocket.sendData(new T(t,e))}removeVillage(t,e){this.websocket.sendData(new U(t,e))}addVillages(t,e){this.websocket.sendData(new C(t,e))}removeVillages(t,e){this.websocket.sendData(new O(t,e))}}return t.\u0275fac=function(e){return new(e||t)(o.cc(y.a))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=i("mPVK"),S=i("Q2Ze"),D=i("e6WT"),R=i("bTqV");let j=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.fb=e,this.catapult=i,this.unsub$=new c.b,this.form=this.fb.group({amount:["alle",p.v.required],range:6})}ngOnInit(){this.catapult.groupCreatedEvent(this.unsub$).subscribe(t=>{this.form.disabled&&this.dialogRef.close(t)})}submit(t){this.form.disable(),this.catapult.createGroup(t.range,t.amount)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(m.g),o.Ob(p.d),o.Ob(I))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-group-add"]],decls:23,vars:2,consts:[[1,"row"],[1,"col-xl-12"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-xl-3"],["for","maxDistance"],[1,"col-xl-9"],["id","maxDistance","formControlName","range","min","1","max","100","thumbLabel","true",1,"w-100"],["matInput","","formControlName","amount"],[1,"col-xl-12","flex-between"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"form",2),o.fc("ngSubmit",(function(){return e.submit(e.form.value)})),o.Ub(3,"div",3),o.Ub(4,"div",4),o.Ub(5,"label",5),o.Lc(6,"Max Entfernung"),o.Tb(),o.Tb(),o.Ub(7,"div",6),o.Pb(8,"mat-slider",7),o.Tb(),o.Tb(),o.Ub(9,"div",3),o.Ub(10,"div",4),o.Ub(11,"label",5),o.Lc(12,"Katapulte"),o.Tb(),o.Tb(),o.Ub(13,"div",6),o.Ub(14,"mat-form-field"),o.Ub(15,"mat-label"),o.Lc(16,"Katapulte"),o.Tb(),o.Pb(17,"input",8),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"div",3),o.Ub(19,"div",9),o.Pb(20,"span"),o.Ub(21,"button",10),o.Lc(22," Hinzuf\xfcgen "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Bb(2),o.pc("formGroup",e.form),o.Bb(19),o.pc("disabled",!e.form.valid||e.form.disabled))},directives:[p.x,p.p,p.i,P.a,p.o,p.g,S.b,S.f,D.b,p.c,R.a],styles:[""]}),t})();var J=i("7Ixi"),$=i("OaSA"),F=i("irRR"),V=i("NFeN");function N(t,e){1&t&&(o.Ub(0,"th",26),o.Lc(1,"Dorf"),o.Tb())}function M(t,e){if(1&t&&(o.Ub(0,"td",27),o.Pb(1,"app-village-render",28),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.pc("value",t)}}function A(t,e){1&t&&o.Pb(0,"th",26)}function E(t,e){if(1&t){const t=o.Vb();o.Ub(0,"td",27),o.Ub(1,"button",29),o.fc("click",(function(){o.Ac(t);const i=e.$implicit;return o.jc(2).removeVillage(i.id)})),o.Ub(2,"mat-icon"),o.Lc(3,"delete"),o.Tb(),o.Tb(),o.Tb()}}function G(t,e){1&t&&o.Pb(0,"tr",30)}function z(t,e){1&t&&o.Pb(0,"tr",31)}function _(t,e){if(1&t&&(o.Ub(0,"div",18),o.Ub(1,"table",19),o.Sb(2,20),o.Jc(3,N,2,0,"th",21),o.Jc(4,M,2,1,"td",22),o.Rb(),o.Sb(5,23),o.Jc(6,A,1,0,"th",21),o.Jc(7,E,4,0,"td",22),o.Rb(),o.Jc(8,G,1,0,"tr",24),o.Jc(9,z,1,0,"tr",25),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(1),o.pc("dataSource",t.data.villages),o.Bb(7),o.pc("matHeaderRowDef",t.displayedColumns),o.Bb(1),o.pc("matRowDefColumns",t.displayedColumns)}}let q=(()=>{class t{constructor(t,e,i,n){this.data=t,this.dialogRef=e,this.fb=i,this.catapult=n,this.unsub$=new c.b,this.slide=new p.e(!1),this.form=this.fb.group({amount:["alle",p.v.required],range:6}),this.villageForm=new p.e("",p.v.required),this.massVillageForm=new p.e("",p.v.required),this.displayedColumns=["village","delete"],this.form.setValue({amount:t.amount,range:t.range}),this.slide.setValue(t.enabled,{emitEvent:!1})}ngOnInit(){this.catapult.villageAddedEvent(this.unsub$).subscribe(t=>{t.group===this.data.id&&(this.data.villages=[...this.data.villages,...t.villages])}),this.catapult.villageRemovedEvent(this.unsub$).subscribe(t=>{t.group===this.data.id&&(this.data.villages=this.data.villages.filter(e=>!t.villages.includes(e.id)))}),this.catapult.groupEditedEvent(this.unsub$).subscribe(t=>{this.data.id===t.id&&this.dialogRef.close(t)}),this.slide.valueChanges.subscribe(t=>{this.catapult.editGroup(this.data.id,t,this.data.range,this.data.amount)})}massAdd(){this.catapult.addVillages(this.data.id,this.massVillageForm.value)}massRemove(){this.catapult.removeVillages(this.data.id,this.massVillageForm.value)}addVillage(){this.catapult.addVillage(this.data.id,this.villageForm.value.id)}removeVillage(t){this.catapult.removeVillage(this.data.id,t)}submit(t){this.form.disable(),this.catapult.editGroup(this.data.id,this.slide.value,t.range,t.amount)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(m.a),o.Ob(m.g),o.Ob(p.d),o.Ob(I))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-group-edit"]],decls:41,vars:9,consts:[[1,"row"],[1,"col-xl-12"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-xl-3"],["for","maxDistance"],[1,"col-xl-9"],["id","maxDistance","formControlName","range","min","1","max","100","thumbLabel","true",1,"w-100"],["matInput","","formControlName","amount"],[1,"col-xl-12","flex-between"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"col-xl-6"],[1,"col-md-9"],[3,"formControl","onlyOwn"],["mat-raised-button","","color","primary",3,"disabled","click"],["placeholder","Massen Hinzuf\xfcgen/Entfernen","matInput","",3,"formControl"],["mat-raised-button","","color","primary",1,"mt-1",3,"disabled","click"],["class","col-xl-6 list",4,"ngIf"],[1,"col-xl-6","list"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","village"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"value"],["type","button","mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"form",2),o.fc("ngSubmit",(function(){return e.submit(e.form.value)})),o.Ub(3,"div",3),o.Ub(4,"div",4),o.Ub(5,"label",5),o.Lc(6,"Max Entfernung"),o.Tb(),o.Tb(),o.Ub(7,"div",6),o.Pb(8,"mat-slider",7),o.Tb(),o.Tb(),o.Ub(9,"div",3),o.Ub(10,"div",4),o.Ub(11,"label"),o.Lc(12,"Katapulte"),o.Tb(),o.Tb(),o.Ub(13,"div",6),o.Ub(14,"mat-form-field"),o.Ub(15,"mat-label"),o.Lc(16,"Katapulte"),o.Tb(),o.Pb(17,"input",8),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"div",3),o.Ub(19,"div",9),o.Pb(20,"span"),o.Ub(21,"button",10),o.Lc(22," Bearbeiten "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(23,"div",0),o.Ub(24,"div",11),o.Ub(25,"div",0),o.Ub(26,"div",12),o.Pb(27,"app-village-input",13),o.Tb(),o.Ub(28,"div",4),o.Ub(29,"button",14),o.fc("click",(function(){return e.addVillage()})),o.Lc(30," Dorf hinzuf\xfcgen. "),o.Tb(),o.Tb(),o.Tb(),o.Ub(31,"div",0),o.Ub(32,"div",12),o.Pb(33,"textarea",15),o.Tb(),o.Ub(34,"div",4),o.Ub(35,"button",14),o.fc("click",(function(){return e.massAdd()})),o.Lc(36," D\xf6rfer hinzuf\xfcgen. "),o.Tb(),o.Pb(37,"br"),o.Ub(38,"button",16),o.fc("click",(function(){return e.massRemove()})),o.Lc(39," D\xf6rfer entfernen. "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Jc(40,_,10,3,"div",17),o.Tb()),2&t&&(o.Bb(2),o.pc("formGroup",e.form),o.Bb(19),o.pc("disabled",!e.form.valid||e.form.disabled),o.Bb(6),o.pc("formControl",e.villageForm)("onlyOwn",!0),o.Bb(2),o.pc("disabled",e.villageForm.disabled||e.villageForm.invalid),o.Bb(4),o.pc("formControl",e.massVillageForm),o.Bb(2),o.pc("disabled",e.massVillageForm.disabled||e.massVillageForm.invalid),o.Bb(3),o.pc("disabled",e.massVillageForm.disabled||e.massVillageForm.invalid),o.Bb(2),o.pc("ngIf",e.data.villages.length>0))},directives:[p.x,p.p,p.i,P.a,p.o,p.g,S.b,S.f,D.b,p.c,R.a,J.a,p.f,n.m,$.j,$.c,$.e,$.b,$.g,$.i,$.d,$.a,F.a,V.a,$.f,$.h],styles:[".list[_ngcontent-%COMP%]{overflow-y:auto;max-height:50vh}"]}),t})();var H=i("jMqV"),K=i("o4Yh"),W=i("ltgo"),Q=i("h4rQ"),Z=i("ZTz/"),X=i("FKr1");function Y(t,e){if(1&t&&o.Pb(0,"img",19),2&t){const t=o.jc(2);o.pc("src",t.imageBase+"buildings/"+t.buildingForm.value.building+".png",o.Cc)}}function tt(t,e){if(1&t&&(o.Ub(0,"mat-select-trigger"),o.Ub(1,"div",17),o.Ub(2,"span"),o.Lc(3),o.kc(4,"titlecase"),o.Tb(),o.Jc(5,Y,1,1,"img",18),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(3),o.Mc(o.lc(4,2,t.buildingForm.value.building)),o.Bb(2),o.pc("ngIf",t.imageBase)}}function et(t,e){if(1&t&&o.Pb(0,"img",19),2&t){const t=o.jc().$implicit,e=o.jc();o.pc("src",e.imageBase+"buildings/"+t+".png",o.Cc)}}function it(t,e){if(1&t&&(o.Ub(0,"mat-option",20),o.Ub(1,"div",17),o.Ub(2,"span"),o.Lc(3),o.kc(4,"titlecase"),o.Tb(),o.Jc(5,et,1,1,"img",18),o.Tb(),o.Tb()),2&t){const t=e.$implicit,i=o.jc();o.pc("value",t),o.Bb(3),o.Mc(o.lc(4,3,t)),o.Bb(2),o.pc("ngIf",i.imageBase)}}function nt(t,e){if(1&t&&(o.Ub(0,"mat-option",20),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.pc("value",t),o.Bb(1),o.Nc(" ",t," ")}}function at(t,e){if(1&t&&(o.Sb(0),o.Ub(1,"mat-form-field",4),o.Ub(2,"mat-label"),o.Lc(3,"Stufe"),o.Tb(),o.Ub(4,"mat-select",21),o.Jc(5,nt,2,2,"mat-option",7),o.Tb(),o.Tb(),o.Rb()),2&t){const t=o.jc();o.Bb(5),o.pc("ngForOf",t.range(t.currentBuildingInfo.maxLevel,t.currentBuildingInfo.minLevel))}}function ct(t,e){if(1&t&&o.Pb(0,"img",25),2&t){const t=o.jc().$implicit,e=o.jc();o.pc("src",e.imageBase+"buildings/"+t.building+".png",o.Cc)}}function st(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",22),o.Ub(1,"div"),o.Jc(2,ct,1,1,"img",23),o.Lc(3),o.kc(4,"titlecase"),o.Tb(),o.Ub(5,"button",24),o.fc("click",(function(){o.Ac(t);const i=e.$implicit;return o.jc().remove(i.building,i.level)})),o.Ub(6,"mat-icon"),o.Lc(7,"delete"),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,i=o.jc();o.Bb(2),o.pc("ngIf",i.imageBase),o.Bb(1),o.Oc(" ",o.lc(4,3,t.building)," bis Stufe ",t.level," ")}}function ot(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",26),o.fc("click",(function(){return o.Ac(t),o.jc().reductions=[]})),o.Ub(1,"mat-icon"),o.Lc(2,"delete"),o.Tb(),o.Tb()}}let bt=(()=>{class t{constructor(t,e,i,n){this.builder=t,this.catapult=e,this.fb=i,this.web=n,this.buildingForm=this.fb.group({building:[void 0,p.v.required],level:[1]}),this.buildings=[]}ngOnInit(){this.web.infoObservable.subscribe(t=>{this.imageBase=t.imageBase,this.buildings=t.buildings}),this.buildingForm.get("building").valueChanges.subscribe(t=>{this.currentBuildingInfo=this.buildingInfos[t]}),this.builder.getBuildings().subscribe(t=>{this.buildingInfos=t})}addBuilding(t){this.reductions=[...this.reductions,t]}remove(t,e){this.reductions=this.reductions.filter(i=>i.building!==t||i.level!==e)}range(t,e=0){return[...Array(t-e+1).keys()].map(t=>t+e)}drop(t){Object(W.d)(this.reductions,t.previousIndex,t.currentIndex)}save(){this.catapult.setReductions(this.reductions)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Q.a),o.Ob(I),o.Ob(p.d),o.Ob(y.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-reduction"]],inputs:{reductions:"reductions"},decls:29,vars:8,consts:[[1,"row"],[1,"col-xl-6"],[3,"formGroup","ngSubmit"],[1,"col-xl-5"],[1,"w-100"],["formControlName","building"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-2"],["mat-raised-button","","color","primary",3,"disabled"],["cdkDropList","",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"example-box"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],[1,"row","mt-3"],[1,"offset-xl-5","col-xl-1"],["mat-raised-button","","color","primary",3,"click"],[1,"flex-between"],["matSuffix","","class","img-fluid",3,"src",4,"ngIf"],["matSuffix","",1,"img-fluid",3,"src"],[3,"value"],["formControlName","level"],["cdkDrag","",1,"example-box"],["class","img-fluid",3,"src",4,"ngIf"],["mat-mini-fab","",3,"click"],[1,"img-fluid",3,"src"],["mat-mini-fab","","color","warn",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"form",2),o.fc("ngSubmit",(function(){return e.addBuilding(e.buildingForm.value)})),o.Ub(3,"div",0),o.Ub(4,"div",3),o.Ub(5,"mat-form-field",4),o.Ub(6,"mat-label"),o.Lc(7,"Geb\xe4ude"),o.Tb(),o.Ub(8,"mat-select",5),o.Jc(9,tt,6,4,"mat-select-trigger",6),o.Jc(10,it,6,5,"mat-option",7),o.Tb(),o.Tb(),o.Tb(),o.Ub(11,"div",3),o.Jc(12,at,6,1,"ng-container",6),o.Tb(),o.Ub(13,"div",8),o.Ub(14,"button",9),o.Lc(15," Hinzuf\xfcgen "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(16,"div",0),o.Ub(17,"div",1),o.Ub(18,"div",10),o.fc("cdkDropListDropped",(function(t){return e.drop(t)})),o.Jc(19,st,8,5,"div",11),o.Ub(20,"div",12),o.Ub(21,"span"),o.Lc(22),o.Tb(),o.Ub(23,"div"),o.Jc(24,ot,3,0,"button",13),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(25,"div",14),o.Ub(26,"div",15),o.Ub(27,"button",16),o.fc("click",(function(){return e.save()})),o.Lc(28," Speichern. "),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Bb(2),o.pc("formGroup",e.buildingForm),o.Bb(7),o.pc("ngIf",e.buildingForm.value.building),o.Bb(1),o.pc("ngForOf",e.buildings),o.Bb(2),o.pc("ngIf",e.currentBuildingInfo),o.Bb(2),o.pc("disabled",e.buildingForm.invalid||e.buildingForm.disabled),o.Bb(5),o.pc("ngForOf",e.reductions),o.Bb(3),o.Nc("",null==e.reductions?null:e.reductions.length," Reduktionen."),o.Bb(2),o.pc("ngIf",(null==e.reductions?null:e.reductions.length)>0))},directives:[p.x,p.p,p.i,S.b,S.f,Z.a,p.o,p.g,n.m,n.l,R.a,W.b,Z.c,S.g,X.n,W.a,V.a],pipes:[n.v],styles:[".example-list[_ngcontent-%COMP%]{max-height:50vh;max-width:100%;border:1px solid #ccc;min-height:60px;display:block;border-radius:4px;overflow-y:auto}.example-box[_ngcontent-%COMP%]{padding:2px 10px;border-bottom:1px solid #ccc;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),t})();var rt=i("ZFy/");function lt(t,e){1&t&&o.Pb(0,"th",17)}function ut(t,e){if(1&t&&(o.Ub(0,"td",18),o.Pb(1,"mat-slide-toggle",3),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Bb(1),o.pc("formControl",i.slides[t.id])}}function dt(t,e){1&t&&(o.Ub(0,"th",17),o.Lc(1,"Max Entfernung"),o.Tb())}function pt(t,e){if(1&t&&(o.Ub(0,"td",18),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.range," Felder ")}}function mt(t,e){1&t&&(o.Ub(0,"th",17),o.Lc(1,"Katapulte"),o.Tb())}function gt(t,e){if(1&t&&(o.Ub(0,"td",18),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.amount," ")}}function ft(t,e){1&t&&(o.Ub(0,"th",17),o.Lc(1,"D\xf6rfer"),o.Tb())}function ht(t,e){if(1&t&&(o.Ub(0,"td",18),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.villages.length," ")}}function vt(t,e){if(1&t){const t=o.Vb();o.Ub(0,"th",17),o.Ub(1,"button",19),o.fc("click",(function(){return o.Ac(t),o.jc(2).add()})),o.Ub(2,"mat-icon"),o.Lc(3,"add"),o.Tb(),o.Tb(),o.Tb()}}function Tt(t,e){if(1&t){const t=o.Vb();o.Ub(0,"td",18),o.Ub(1,"button",20),o.fc("click",(function(){o.Ac(t);const i=e.$implicit;return o.jc(2).edit(i)})),o.Ub(2,"mat-icon"),o.Lc(3,"edit"),o.Tb(),o.Tb(),o.Ub(4,"button",21),o.fc("click",(function(){o.Ac(t);const i=e.$implicit;return o.jc(2).delete(i.id)})),o.Ub(5,"mat-icon"),o.Lc(6,"delete"),o.Tb(),o.Tb(),o.Tb()}}function Ut(t,e){1&t&&o.Pb(0,"tr",22)}function wt(t,e){1&t&&o.Pb(0,"tr",23)}function Bt(t,e){if(1&t&&(o.Ub(0,"table",7),o.Sb(1,8),o.Jc(2,lt,1,0,"th",9),o.Jc(3,ut,2,1,"td",10),o.Rb(),o.Sb(4,11),o.Jc(5,dt,2,0,"th",9),o.Jc(6,pt,2,1,"td",10),o.Rb(),o.Sb(7,12),o.Jc(8,mt,2,0,"th",9),o.Jc(9,gt,2,1,"td",10),o.Rb(),o.Sb(10,13),o.Jc(11,ft,2,0,"th",9),o.Jc(12,ht,2,1,"td",10),o.Rb(),o.Sb(13,14),o.Jc(14,vt,4,0,"th",9),o.Jc(15,Tt,7,0,"td",10),o.Rb(),o.Jc(16,Ut,1,0,"tr",15),o.Jc(17,wt,1,0,"tr",16),o.Tb()),2&t){const t=o.jc();o.pc("dataSource",t.groups),o.Bb(16),o.pc("matHeaderRowDef",t.displayedColumns),o.Bb(1),o.pc("matRowDefColumns",t.displayedColumns)}}function xt(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",0),o.Ub(1,"div",24),o.Pb(2,"span"),o.Ub(3,"span",25),o.Lc(4," Keine Tasks vorhanden."),o.Pb(5,"br"),o.Ub(6,"button",26),o.fc("click",(function(){return o.Ac(t),o.jc().add()})),o.Lc(7," Hinzuf\xfcgen. "),o.Tb(),o.Tb(),o.Pb(8,"span"),o.Tb(),o.Tb()}}let kt=(()=>{class t{constructor(t,e){this.catapult=t,this.dialog=e,this.unsub$=new c.b,this.slide=new p.e,this.slides={},this.displayedColumns=["toggle","range","amount","villages","control"]}ngOnInit(){this.catapult.getConfig(this.unsub$).subscribe(t=>{this.slide.setValue(t.enabled,{emitEvent:!1}),this.reductions=t.reductions,this.groups=[];for(const e of Object.keys(t.entities))this.groups.push(t.entities[e]);for(const e of this.groups)this.slides[e.id]=new p.e(e.enabled),this.slides[e.id].valueChanges.subscribe(t=>{this.catapult.editGroup(e.id,t,e.range,e.amount)})}),this.catapult.groupDeletedEvent(this.unsub$).subscribe(t=>{this.groups=this.groups.filter(e=>e.id!==t)}),this.slide.valueChanges.subscribe(t=>{this.catapult.setEnabled(t)})}add(){this.dialog.open(j,{minWidth:"60%"}).afterClosed().subscribe(t=>{void 0!==t&&(this.groups=[...this.groups,t],this.slides[t.id]=new p.e(t.enabled),this.slides[t.id].valueChanges.subscribe(e=>{this.catapult.editGroup(t.id,e,t.range,t.amount)}),this.dialog.open(q,{data:t,minWidth:"60%"}))})}delete(t){this.catapult.deleteGroup(t)}edit(t){this.dialog.open(q,{data:t,minWidth:"60%"}).afterClosed().subscribe(e=>{void 0!==e&&(this.groups=this.groups.map(i=>i.id===t.id?e:i))})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(I),o.Ob(m.b))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-home"]],decls:12,vars:4,consts:[[1,"row"],[1,"col-xl-12"],[1,"mb-3"],[3,"formControl"],[3,"reductions"],["mat-table","","class","w-100",3,"dataSource",4,"ngIf"],["class","row",4,"ngIf"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","toggle"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","range"],["matColumnDef","amount"],["matColumnDef","villages"],["matColumnDef","control"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","",1,"mr-2",3,"click"],["mat-mini-fab","","matTooltip","Unwiderruflich l\xf6schen.",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-xl-12","flex-between"],[1,"text-center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"mat-card",2),o.Pb(3,"mat-slide-toggle",3),o.Tb(),o.Tb(),o.Tb(),o.Ub(4,"div",0),o.Ub(5,"div",1),o.Ub(6,"mat-expansion-panel"),o.Ub(7,"mat-expansion-panel-header"),o.Lc(8,"Reduktionen"),o.Tb(),o.Pb(9,"app-catapult-reduction",4),o.Tb(),o.Tb(),o.Tb(),o.Jc(10,Bt,18,3,"table",5),o.Jc(11,xt,9,0,"div",6)),2&t&&(o.Bb(3),o.pc("formControl",e.slide),o.Bb(6),o.pc("reductions",e.reductions),o.Bb(1),o.pc("ngIf",(null==e.groups?null:e.groups.length)>0),o.Bb(1),o.pc("ngIf",0===(null==e.groups?null:e.groups.length)))},directives:[r.a,H.a,p.o,p.f,K.c,K.d,bt,n.m,$.j,$.c,$.e,$.b,$.g,$.i,$.d,$.a,R.a,V.a,rt.a,$.f,$.h],styles:[".mat-column-control[_ngcontent-%COMP%]{width:10%}.mat-column-toggle[_ngcontent-%COMP%]{width:7%}"]}),t})();var Lt=i("5QHs");function Ct(t,e){1&t&&(o.Sb(0),o.Lc(1," Angreifer: "),o.Rb())}function Ot(t,e){1&t&&(o.Sb(0),o.Lc(1," Verteidiger: "),o.Rb())}function yt(t,e){if(1&t&&(o.Sb(0),o.Lc(1),o.Rb()),2&t){const t=o.jc();o.Bb(1),o.Nc(" ",t.player.name," ")}}function It(t,e){1&t&&(o.Sb(0),o.Ub(1,"span",5),o.Lc(2,"---"),o.Tb(),o.Rb())}function Pt(t,e){1&t&&(o.Sb(0),o.Lc(1," Herkunft: "),o.Rb())}function St(t,e){1&t&&(o.Sb(0),o.Lc(1," Ziel: "),o.Rb())}function Dt(t,e){if(1&t&&o.Pb(0,"app-village-render",6),2&t){const t=o.jc();o.pc("value",t.village)}}function Rt(t,e){1&t&&(o.Sb(0),o.Lc(1,"Dorf"),o.Rb())}function jt(t,e){1&t&&(o.Sb(0),o.Ub(1,"p"),o.Lc(2,"Keiner deiner K\xe4mpfer ist lebend zur\xfcckgekehrt. Es konnten keine Informationen \xfcber die Truppenst\xe4rke des Feindes erlangt werden."),o.Tb(),o.Rb())}function Jt(t,e){if(1&t&&(o.Ub(0,"td",12),o.Pb(1,"img",13),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Bb(1),o.Gb("faded",0===i.units[t]),o.pc("src",i.imageBase+"unit/unit_"+t+".png",o.Cc)("title",t)}}function $t(t,e){if(1&t&&(o.Ub(0,"td",14),o.Lc(1),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Gb("hidden",0===i.units[t]),o.Bb(1),o.Nc(" ",i.units[t]," ")}}function Ft(t,e){if(1&t&&(o.Ub(0,"td",14),o.Lc(1),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Gb("hidden",0===i.lost[t]),o.Bb(1),o.Nc(" ",i.lost[t]," ")}}function Vt(t,e){if(1&t&&(o.Ub(0,"table",7),o.Ub(1,"tbody"),o.Ub(2,"tr",8),o.Pb(3,"td"),o.Jc(4,Jt,2,4,"td",9),o.Tb(),o.Ub(5,"tr"),o.Ub(6,"td",0),o.Lc(7,"Anzahl:"),o.Tb(),o.Jc(8,$t,2,3,"td",10),o.Tb(),o.Ub(9,"tr"),o.Ub(10,"td",11),o.Lc(11,"Verluste:"),o.Tb(),o.Jc(12,Ft,2,3,"td",10),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(4),o.pc("ngForOf",t.unitNames),o.Bb(4),o.pc("ngForOf",t.unitNames),o.Bb(4),o.pc("ngForOf",t.unitNames)}}let Nt=(()=>{class t{constructor(t){this.web=t,this.defender=!1}ngOnInit(){this.web.infoObservable.subscribe(t=>{this.imageBase=t.imageBase,this.unitNames=t.units})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(y.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-battle-report-troops"]],inputs:{player:"player",village:"village",units:"units",lost:"lost",defender:"defender"},decls:20,vars:10,consts:[[2,"width","20%"],[4,"ngIf"],[3,"value",4,"ngIf"],["colspan","2",2,"padding","0"],["class","vis","style","border-collapse: collapse;",4,"ngIf"],[2,"font-weight","normal"],[3,"value"],[1,"vis",2,"border-collapse","collapse"],[1,"center"],["style","width: 35px",4,"ngFor","ngForOf"],["style","text-align: center;",3,"hidden",4,"ngFor","ngForOf"],[2,"width","20%","text-align","left"],[2,"width","35px"],["alt","",3,"src","title"],[2,"text-align","center"]],template:function(t,e){1&t&&(o.Ub(0,"table"),o.Ub(1,"tbody"),o.Ub(2,"tr"),o.Ub(3,"th",0),o.Jc(4,Ct,2,0,"ng-container",1),o.Jc(5,Ot,2,0,"ng-container",1),o.Tb(),o.Ub(6,"th"),o.Jc(7,yt,2,1,"ng-container",1),o.Jc(8,It,3,0,"ng-container",1),o.Tb(),o.Tb(),o.Ub(9,"tr"),o.Ub(10,"td"),o.Jc(11,Pt,2,0,"ng-container",1),o.Jc(12,St,2,0,"ng-container",1),o.Tb(),o.Ub(13,"td"),o.Jc(14,Dt,1,1,"app-village-render",2),o.Jc(15,Rt,2,0,"ng-container",1),o.Tb(),o.Tb(),o.Ub(16,"tr"),o.Ub(17,"td",3),o.Jc(18,jt,3,0,"ng-container",1),o.Jc(19,Vt,13,3,"table",4),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Bb(4),o.pc("ngIf",!e.defender),o.Bb(1),o.pc("ngIf",e.defender),o.Bb(2),o.pc("ngIf",e.player),o.Bb(1),o.pc("ngIf",!e.player),o.Bb(3),o.pc("ngIf",!e.defender),o.Bb(1),o.pc("ngIf",e.defender),o.Bb(2),o.pc("ngIf",e.village),o.Bb(1),o.pc("ngIf",!e.village),o.Bb(3),o.pc("ngIf",!e.units),o.Bb(1),o.pc("ngIf",e.units))},directives:[n.m,F.a,n.l],styles:[".center[_ngcontent-%COMP%]{text-align:center}.hidden[_ngcontent-%COMP%]{color:#5a6268}.faded[_ngcontent-%COMP%]{opacity:.3}"]}),t})();function Mt(t,e){if(1&t&&(o.Ub(0,"tr"),o.Ub(1,"td",9),o.Pb(2,"img",10),o.Ub(3,"span",11),o.Lc(4),o.kc(5,"titlecase"),o.Tb(),o.Tb(),o.Ub(6,"td",11),o.Lc(7),o.Tb(),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Bb(2),o.pc("src",i.imageBase+"buildings/"+t+".png",o.Cc),o.Bb(2),o.Mc(o.lc(5,3,t)),o.Bb(3),o.Mc(i.buildings[t])}}function At(t,e){if(1&t&&(o.Ub(0,"tr"),o.Ub(1,"td",9),o.Pb(2,"img",10),o.Ub(3,"span",11),o.Lc(4),o.kc(5,"titlecase"),o.Tb(),o.Tb(),o.Ub(6,"td",11),o.Lc(7),o.Tb(),o.Tb()),2&t){const t=e.$implicit,i=o.jc(2);o.Bb(2),o.pc("src",i.imageBase+"buildings/"+t+".png",o.Cc),o.Bb(2),o.Mc(o.lc(5,3,t)),o.Bb(3),o.Mc(i.buildings[t])}}function Et(t,e){if(1&t&&(o.Ub(0,"mat-card"),o.Ub(1,"div",1),o.Ub(2,"div",6),o.Ub(3,"table"),o.Ub(4,"tbody"),o.Ub(5,"tr"),o.Ub(6,"th",7),o.Lc(7,"Geb\xe4ude"),o.Tb(),o.Ub(8,"th"),o.Lc(9,"Stufe"),o.Tb(),o.Tb(),o.Jc(10,Mt,8,5,"tr",8),o.Tb(),o.Tb(),o.Tb(),o.Ub(11,"div",6),o.Ub(12,"table"),o.Ub(13,"tbody"),o.Ub(14,"tr"),o.Ub(15,"th",7),o.Lc(16,"Geb\xe4ude"),o.Tb(),o.Ub(17,"th"),o.Lc(18,"Stufe"),o.Tb(),o.Tb(),o.Jc(19,At,8,5,"tr",8),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.jc();o.Bb(10),o.pc("ngForOf",t.first),o.Bb(9),o.pc("ngForOf",t.second)}}let Gt=(()=>{class t{constructor(t){this.web=t,this.first=[],this.second=[]}ngOnInit(){this.buildings=JSON.parse(this.value.buildings),this.web.infoObservable.subscribe(t=>{this.imageBase=t.imageBase;const e=t.buildings.filter(t=>this.buildings&&this.buildings[t]>0),i=Math.ceil(e.length/2);this.first=e.slice(0,i),this.second=e.slice(i)})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(y.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-battle-report"]],inputs:{value:"value"},decls:17,vars:12,consts:[[1,"row","flex-between","mb-2","p-2"],[1,"row"],[1,"col-xl-12"],[3,"village","player","units","lost"],[3,"village","player","units","lost","defender"],[4,"ngIf"],[1,"col-xl-6"],[2,"width","50%"],[4,"ngFor","ngForOf"],["nowrap","",2,"vertical-align","middle"],["alt","",1,"middle",2,"max-height","16px",3,"src"],[1,"middle"]],template:function(t,e){1&t&&(o.Ub(0,"mat-card"),o.Ub(1,"div",0),o.Ub(2,"div"),o.Lc(3,"Letzter Sp\xe4hbericht"),o.Tb(),o.Ub(4,"div"),o.Lc(5),o.Ub(6,"small"),o.Lc(7),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"mat-card"),o.Ub(9,"div",1),o.Ub(10,"div",2),o.Pb(11,"app-battle-report-troops",3),o.Tb(),o.Tb(),o.Tb(),o.Ub(12,"mat-card"),o.Ub(13,"div",1),o.Ub(14,"div",2),o.Pb(15,"app-battle-report-troops",4),o.Tb(),o.Tb(),o.Tb(),o.Jc(16,Et,20,2,"mat-card",5),o.Tb()),2&t&&(o.Bb(5),o.Nc(" ",e.value.reportTime.display,""),o.Bb(2),o.Nc(":",e.value.reportTime.ms,""),o.Bb(4),o.pc("village",e.value.attackerVillage)("player",e.value.attacker)("units",e.value.attackerUnits)("lost",e.value.attackerUnitsLost),o.Bb(4),o.pc("village",e.value.defenderVillage)("player",e.value.defender)("units",e.value.defenderUnits)("lost",e.value.defenderUnitsLost)("defender",!0),o.Bb(1),o.pc("ngIf",e.value.buildings))},directives:[r.a,Nt,n.m,n.l],pipes:[n.v],styles:[""]}),t})(),zt=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(m.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-report-popup"]],decls:2,vars:1,consts:[["matDialogContent",""],[3,"value"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Pb(1,"app-battle-report",1),o.Tb()),2&t&&(o.Bb(1),o.pc("value",e.data))},directives:[m.e,Gt],styles:[""]}),t})();var _t=i("0EQZ"),qt=i("2Vo4");class Ht extends _t.b{constructor(t){super(),this.catapult=t,this.infoSubject=new qt.a([]),this.countSubject=new qt.a(0),this.loadingSubject=new qt.a(!1),this.loading$=this.loadingSubject.asObservable(),this.count$=this.countSubject.asObservable()}loadInfos(t,e,i="",n="asc"){this.loadingSubject.next(!0),this.catapult.getBabaInfo(t,e,i,n).subscribe(t=>{this.loadingSubject.next(!1),this.infoSubject.next(t.list),this.countSubject.next(t.count)})}connect(t){return this.infoSubject.asObservable()}disconnect(t){this.infoSubject.complete(),this.loadingSubject.complete(),this.countSubject.complete()}}var Kt=i("LUZP"),Wt=i("VRyK"),Qt=i("vkgz"),Zt=i("pu8Q");function Xt(t,e){1&t&&(o.Ub(0,"div",13),o.Pb(1,"mat-spinner"),o.Tb())}function Yt(t,e){1&t&&(o.Ub(0,"mat-header-cell",14),o.Lc(1,"ID"),o.Tb())}function te(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Ub(1,"a",15),o.Lc(2),o.Tb(),o.Tb()),2&t){const t=e.$implicit,i=o.jc();o.Bb(1),o.pc("href",i.link(t.id),o.Cc),o.Bb(1),o.Mc(t.id)}}function ee(t,e){1&t&&(o.Ub(0,"mat-header-cell"),o.Lc(1,"Bericht"),o.Tb())}function ie(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",17),o.fc("click",(function(){o.Ac(t);const e=o.jc().$implicit;return o.jc().openReport(e)})),o.Lc(1," Bericht "),o.Tb()}}function ne(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Jc(1,ie,2,0,"button",16),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.pc("ngIf",t.report)}}function ae(t,e){1&t&&(o.Ub(0,"mat-header-cell",14),o.Lc(1,"Punkte"),o.Tb())}function ce(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.points," ")}}function se(t,e){1&t&&(o.Ub(0,"mat-header-cell",14),o.Lc(1,"N\xe4chste Aktion"),o.Tb())}function oe(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.nextActionTime.display," ")}}function be(t,e){1&t&&(o.Ub(0,"mat-header-cell",14),o.Lc(1,"N\xe4chste Aktion"),o.Tb())}function re(t,e){if(1&t&&(o.Ub(0,"mat-cell"),o.Lc(1),o.Tb()),2&t){const t=e.$implicit;o.Bb(1),o.Nc(" ",t.nextAction," ")}}function le(t,e){1&t&&o.Pb(0,"mat-header-row")}function ue(t,e){1&t&&o.Pb(0,"mat-row")}const de=function(){return[10,50,100,250]},pe=[{path:"",component:d,children:[{path:"info",component:(()=>{class t{constructor(t,e,i){this.catapult=t,this.dialog=e,this.web=i,this.displayedColumns=["id","report","points","nextActionTime","nextAction"]}ngOnInit(){this.dataSource=new Ht(this.catapult),this.dataSource.count$.subscribe(t=>{this.count=t}),this.dataSource.loadInfos(0,10),this.web.info().subscribe(t=>{this.world=t.world})}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(Wt.a)(this.sort.sortChange,this.paginator.page).pipe(Object(Qt.a)(()=>this.pageUpdate())).subscribe()}link(t){return this.world&&t?"https://"+this.world+".die-staemme.de/game.php?screen=info_village&id="+t:void 0}pageUpdate(){this.dataSource.loadInfos(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize,this.sort.active,this.sort.direction)}openReport(t){t.report&&this.dialog.open(zt,{data:t.report,minWidth:"518"})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(I),o.Ob(m.b),o.Ob(y.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-catapult-info"]],viewQuery:function(t,e){var i;1&t&&(o.Rc(Lt.a,!0),o.Rc(Kt.a,!0)),2&t&&(o.wc(i=o.gc())&&(e.paginator=i.first),o.wc(i=o.gc())&&(e.sort=i.first))},decls:21,vars:10,consts:[["class","loading-shade",4,"ngIf"],["matSort","","matSortDisableClear","","matSortActive","id",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","report"],[4,"matHeaderCellDef"],["matColumnDef","points"],["matColumnDef","nextActionTime"],["matColumnDef","nextAction"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"loading-shade"],["mat-sort-header",""],["target","_blank",3,"href"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Jc(0,Xt,2,0,"div",0),o.kc(1,"async"),o.Ub(2,"mat-table",1),o.Sb(3,2),o.Jc(4,Yt,2,0,"mat-header-cell",3),o.Jc(5,te,3,2,"mat-cell",4),o.Rb(),o.Sb(6,5),o.Jc(7,ee,2,0,"mat-header-cell",6),o.Jc(8,ne,2,1,"mat-cell",4),o.Rb(),o.Sb(9,7),o.Jc(10,ae,2,0,"mat-header-cell",3),o.Jc(11,ce,2,1,"mat-cell",4),o.Rb(),o.Sb(12,8),o.Jc(13,se,2,0,"mat-header-cell",3),o.Jc(14,oe,2,1,"mat-cell",4),o.Rb(),o.Sb(15,9),o.Jc(16,be,2,0,"mat-header-cell",3),o.Jc(17,re,2,1,"mat-cell",4),o.Rb(),o.Jc(18,le,1,0,"mat-header-row",10),o.Jc(19,ue,1,0,"mat-row",11),o.Tb(),o.Pb(20,"mat-paginator",12)),2&t&&(o.pc("ngIf",o.lc(1,7,e.dataSource.loading$)),o.Bb(2),o.pc("dataSource",e.dataSource),o.Bb(16),o.pc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.pc("matRowDefColumns",e.displayedColumns),o.Bb(1),o.pc("length",e.count)("pageSize",10)("pageSizeOptions",o.sc(9,de)))},directives:[n.m,$.j,Kt.a,$.c,$.e,$.b,$.g,$.i,Lt.a,Zt.b,$.d,Kt.b,$.a,R.a,$.f,$.h],pipes:[n.b],styles:["a[_ngcontent-%COMP%]{color:inherit}.loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),t})()},{path:"",pathMatch:"full",component:kt}]}];let me=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(pe)],a.f]}),t})();var ge=i("BLWB");let fe=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[n.c,me,b.c,r.f,H.b,$.l,p.t,V.b,R.b,rt.b,P.b,S.d,D.c,ge.a,Zt.a,Lt.b,W.c,Z.b,K.b,m.f,Kt.c]]}),t})()}}]);