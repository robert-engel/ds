(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{CP1W:function(t,e,i){"use strict";i.r(e),i.d(e,"AutoBuilderModule",(function(){return Tt}));var n=i("ofXK"),c=i("tyNb"),a=i("XNiG"),l=i("1G5W"),s=i("fXoL"),b=i("M9ds"),o=i("PDjf");const r=function(t){return[t]};function u(t,e){if(1&t){const t=s.Vb();s.Ub(0,"span",2),s.fc("click",(function(){s.Ac(t);const i=e.$implicit;return s.jc().activeLink=i})),s.Lc(1),s.Tb()}if(2&t){const t=e.$implicit,i=s.jc();s.pc("active",i.activeLink===t)("routerLink",s.tc(3,r,t.link)),s.Bb(1),s.Nc(" ",t.title," ")}}let d=(()=>{class t{constructor(t){this.router=t,this.links=[{title:"Home",link:"/builder"}],this.activeLink=this.links[0],this.unsub$=new a.b}ngOnInit(){this.setActive(),this.router.events.pipe(Object(l.a)(this.unsub$)).subscribe(t=>{this.setActive()})}setActive(){for(const t of this.links)this.router.isActive(t.link,!1)&&(this.activeLink=t)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.c))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-auto-builder"]],decls:4,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,e){1&t&&(s.Ub(0,"nav",0),s.Jc(1,u,2,5,"span",1),s.Tb(),s.Ub(2,"mat-card"),s.Pb(3,"router-outlet"),s.Tb()),2&t&&(s.Bb(1),s.pc("ngForOf",e.links))},directives:[b.b,n.l,o.a,c.g,b.a,c.d],styles:[""]}),t})();var m=i("3Pt+"),p=i("ltgo"),g=i("h4rQ"),f=i("7nMs"),h=i("5eHb"),v=i("iELJ"),T=i("bTqV"),x=i("Q2Ze"),U=i("ZTz/"),w=i("e6WT"),O=i("NFeN"),B=i("FKr1");function k(t,e){if(1&t&&s.Pb(0,"img",21),2&t){const t=s.jc().$implicit,e=s.jc();s.pc("src",e.imageBase+"buildings/"+t.building+".png",s.Cc)}}function L(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",18),s.Ub(1,"div"),s.Jc(2,k,1,1,"img",19),s.Lc(3),s.kc(4,"titlecase"),s.Tb(),s.Ub(5,"button",20),s.fc("click",(function(){s.Ac(t);const i=e.$implicit;return s.jc().remove(i.building,i.level)})),s.Ub(6,"mat-icon"),s.Lc(7,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit,i=s.jc();s.Bb(2),s.pc("ngIf",i.imageBase),s.Bb(1),s.Oc(" ",s.lc(4,3,t.building)," bis Stufe ",t.level," ")}}function y(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",22),s.fc("click",(function(){return s.Ac(t),s.jc().templateForm.setValue([])})),s.Ub(1,"mat-icon"),s.Lc(2,"delete"),s.Tb(),s.Tb()}}function I(t,e){if(1&t&&s.Pb(0,"img",24),2&t){const t=s.jc(2);s.pc("src",t.imageBase+"buildings/"+t.buildingForm.value.building+".png",s.Cc)}}function C(t,e){if(1&t&&(s.Ub(0,"mat-select-trigger"),s.Ub(1,"div",15),s.Ub(2,"span"),s.Lc(3),s.kc(4,"titlecase"),s.Tb(),s.Jc(5,I,1,1,"img",23),s.Tb(),s.Tb()),2&t){const t=s.jc();s.Bb(3),s.Mc(s.lc(4,2,t.buildingForm.value.building)),s.Bb(2),s.pc("ngIf",t.imageBase)}}function F(t,e){if(1&t&&s.Pb(0,"img",24),2&t){const t=s.jc().$implicit,e=s.jc();s.pc("src",e.imageBase+"buildings/"+t+".png",s.Cc)}}function P(t,e){if(1&t&&(s.Ub(0,"mat-option",25),s.Ub(1,"div",15),s.Ub(2,"span"),s.Lc(3),s.kc(4,"titlecase"),s.Tb(),s.Jc(5,F,1,1,"img",23),s.Tb(),s.Tb()),2&t){const t=e.$implicit,i=s.jc();s.pc("value",t),s.Bb(3),s.Mc(s.lc(4,3,t)),s.Bb(2),s.pc("ngIf",i.imageBase)}}function j(t,e){if(1&t&&(s.Ub(0,"mat-option",25),s.Lc(1),s.Tb()),2&t){const t=e.$implicit;s.pc("value",t),s.Bb(1),s.Nc(" ",t," ")}}function $(t,e){if(1&t&&(s.Sb(0),s.Ub(1,"mat-form-field"),s.Ub(2,"mat-label"),s.Lc(3,"Stufe"),s.Tb(),s.Ub(4,"mat-select",26),s.Jc(5,j,2,2,"mat-option",13),s.Tb(),s.Tb(),s.Rb()),2&t){const t=s.jc();s.Bb(5),s.pc("ngForOf",t.range(t.currentBuildingInfo.maxLevel,t.currentBuildingInfo.minLevel))}}let J=(()=>{class t{constructor(t,e,i,n,c){this.builder=t,this.fb=e,this.web=i,this.detector=n,this.toastr=c,this.unsub$=new a.b,this.nameForm=new m.e("",m.v.required),this.templateForm=new m.e([],t=>Array.isArray(t.value)&&0!==t.value.length?null:{missing:"Template fehlt."}),this.buildingForm=this.fb.group({building:[void 0,m.v.required],level:[1]}),this.tasks=[],this.buildings=[]}ngOnInit(){this.web.infoObservable.subscribe(t=>{this.imageBase=t.imageBase,this.buildings=t.buildings}),this.templateForm.valueChanges.subscribe(t=>{this.tasks=t}),this.buildingForm.get("building").valueChanges.subscribe(t=>{this.currentBuildingInfo=this.buildingInfos[t]}),this.builder.getBuildings().subscribe(t=>{this.buildingInfos=t}),this.builder.addTemplateEvent(this.unsub$).subscribe(t=>{t.name===this.nameForm.value&&(this.nameForm.enable(),this.toastr.success(`Template ${t.name} wurde hinzugef\xfcgt.`,void 0,{timeOut:7e3}))})}loadTemplate(){this.builder.getDefaultTemplate().subscribe(t=>{this.templateForm.setValue(t.tasks),this.detector.detectChanges()})}addBuilding(t){this.templateForm.setValue([...this.templateForm.value,t])}remove(t,e){this.templateForm.setValue(this.templateForm.value.filter(i=>i.building!==t||i.level!==e))}range(t,e=0){return[...Array(t).keys()].map(t=>t+1)}drop(t){const e=this.templateForm.value;Object(p.d)(e,t.previousIndex,t.currentIndex),this.templateForm.setValue(e)}save(){this.nameForm.disable(),this.builder.addTemplate(this.nameForm.value,this.templateForm.value)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(g.a),s.Ob(m.d),s.Ob(f.a),s.Ob(s.h),s.Ob(h.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-auto-builder-add-template"]],decls:36,vars:11,consts:[["mat-dialog-content",""],[1,"row"],[1,"col-xl-6"],["cdkDropList","",1,"example-list",3,"scrollTop","cdkDropListDropped"],["scrollMe",""],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"example-box"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"formGroup","ngSubmit"],[1,"w-100","flex-between"],["formControlName","building"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled"],[1,"flex-between"],["matInput","",3,"formControl"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag","",1,"example-box"],["class","img-fluid",3,"src",4,"ngIf"],["mat-mini-fab","",3,"click"],[1,"img-fluid",3,"src"],["mat-mini-fab","","color","warn",3,"click"],["matSuffix","","class","img-fluid",3,"src",4,"ngIf"],["matSuffix","",1,"img-fluid",3,"src"],[3,"value"],["formControlName","level"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3,4),s.fc("cdkDropListDropped",(function(t){return e.drop(t)})),s.Jc(5,L,8,5,"div",5),s.Ub(6,"div",6),s.Ub(7,"span"),s.Lc(8),s.Tb(),s.Ub(9,"div"),s.Jc(10,y,3,0,"button",7),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",2),s.Ub(12,"div"),s.Ub(13,"button",8),s.fc("click",(function(){return e.loadTemplate()})),s.Lc(14," Beispiel Template laden. "),s.Tb(),s.Tb(),s.Ub(15,"form",9),s.fc("ngSubmit",(function(){return e.addBuilding(e.buildingForm.value)})),s.Ub(16,"div",10),s.Ub(17,"div"),s.Ub(18,"mat-form-field"),s.Ub(19,"mat-label"),s.Lc(20,"Geb\xe4ude"),s.Tb(),s.Ub(21,"mat-select",11),s.Jc(22,C,6,4,"mat-select-trigger",12),s.Jc(23,P,6,5,"mat-option",13),s.Tb(),s.Tb(),s.Tb(),s.Ub(24,"div"),s.Jc(25,$,6,1,"ng-container",12),s.Tb(),s.Ub(26,"div"),s.Ub(27,"button",14),s.Lc(28," Hinzuf\xfcgen "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(29,"div",15),s.Ub(30,"mat-form-field"),s.Ub(31,"mat-label"),s.Lc(32,"Name"),s.Tb(),s.Pb(33,"input",16),s.Tb(),s.Ub(34,"button",17),s.fc("click",(function(){return e.save()})),s.Lc(35," Speichern. "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.xc(4);s.Bb(3),s.pc("scrollTop",t.scrollHeight),s.Bb(2),s.pc("ngForOf",e.tasks),s.Bb(3),s.Nc("",e.tasks.length," Tasks."),s.Bb(2),s.pc("ngIf",(null==e.tasks?null:e.tasks.length)>0),s.Bb(5),s.pc("formGroup",e.buildingForm),s.Bb(7),s.pc("ngIf",e.buildingForm.value.building),s.Bb(1),s.pc("ngForOf",e.buildings),s.Bb(2),s.pc("ngIf",e.currentBuildingInfo),s.Bb(2),s.pc("disabled",e.buildingForm.invalid||e.buildingForm.disabled),s.Bb(6),s.pc("formControl",e.nameForm),s.Bb(1),s.pc("disabled",e.nameForm.invalid||e.templateForm.invalid||e.nameForm.disabled)}},directives:[v.e,p.b,n.l,n.m,T.a,m.x,m.p,m.i,x.b,x.f,U.a,m.o,m.g,w.b,m.c,m.f,p.a,O.a,U.c,x.g,B.n],pipes:[n.v],styles:[".example-list[_ngcontent-%COMP%]{max-height:50vh;max-width:100%;border:1px solid #ccc;min-height:50vh;display:block;border-radius:4px;overflow-y:auto}.example-box[_ngcontent-%COMP%]{padding:2px 10px;border-bottom:1px solid #ccc;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),t})();var D=i("7Ixi");let M=(()=>{class t{constructor(t,e){this.data=t,this.builder=e,this.form=new m.e}ngOnInit(){this.builder.getTemplate(this.data.id).subscribe(t=>{this.template=t})}addVillage(){this.builder.enable(this.form.value.id,this.data.id)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(v.a),s.Ob(g.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-auto-builder-add-village"]],decls:4,vars:2,consts:[["mat-dialog-content",""],[3,"onlyOwn","formControl"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Pb(1,"app-village-input",1),s.Ub(2,"button",2),s.fc("click",(function(){return e.addVillage()})),s.Lc(3," Dorf ausbauen. "),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("onlyOwn",!0)("formControl",e.form))},directives:[v.e,D.a,m.o,m.f,T.a],styles:[""]}),t})();var _=i("l5mm"),R=i("pu8Q"),S=i("OaSA"),A=i("irRR"),V=i("ZFy/"),N=i("DSdR");function z(t,e){1&t&&s.Pb(0,"mat-spinner")}function E(t,e){if(1&t&&(s.Ub(0,"div",4),s.Jc(1,z,1,0,"mat-spinner",2),s.Tb()),2&t){const t=s.jc();s.Bb(1),s.pc("ngIf",t.isLoadingResults)}}function H(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"div",5),s.Pb(2,"span"),s.Ub(3,"div"),s.Lc(4," Keine D\xf6rfer werden ausgebaut. "),s.Ub(5,"button",6),s.fc("click",(function(){s.Ac(t);const e=s.jc();return e.addVillage(e.data)})),s.Ub(6,"mat-icon"),s.Lc(7," library_add "),s.Tb(),s.Tb(),s.Tb(),s.Pb(8,"span"),s.Tb(),s.Rb()}}function W(t,e){1&t&&(s.Ub(0,"th",17),s.Lc(1," Dorf"),s.Tb())}function G(t,e){if(1&t&&(s.Ub(0,"td",18),s.Pb(1,"app-village-render",19),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.pc("value",t.village)}}function K(t,e){1&t&&(s.Ub(0,"th",17),s.Lc(1," N\xe4chster Auftrag"),s.Tb())}function q(t,e){if(1&t&&(s.Ub(0,"td",18),s.Lc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Nc(" ",t.nextExecution," ")}}function Q(t,e){1&t&&(s.Ub(0,"th",17),s.Lc(1," Verbleibend"),s.Tb())}function X(t,e){if(1&t&&(s.Sb(0),s.Lc(1),s.kc(2,"hms"),s.Rb()),2&t){const t=s.jc().$implicit;s.Bb(1),s.Nc(" ",s.lc(2,1,1e3*t.remaining)," ")}}function Z(t,e){1&t&&(s.Sb(0),s.Lc(1," Wird ausgebaut. "),s.Rb())}function Y(t,e){if(1&t&&(s.Ub(0,"td",18),s.Jc(1,X,3,3,"ng-container",2),s.Jc(2,Z,2,0,"ng-container",2),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.pc("ngIf",1e3*t.remaining>0),s.Bb(1),s.pc("ngIf",1e3*t.remaining<=0)}}function tt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"th",17),s.Ub(1,"button",20),s.fc("click",(function(){s.Ac(t);const e=s.jc(2);return e.addVillage(e.data)})),s.Ub(2,"mat-icon"),s.Lc(3," library_add "),s.Tb(),s.Tb(),s.Tb()}}function et(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",18),s.Ub(1,"button",21),s.fc("click",(function(){s.Ac(t);const i=e.$implicit;return s.jc(2).delete(i.village)})),s.Ub(2,"mat-icon"),s.Lc(3," delete "),s.Tb(),s.Tb(),s.Tb()}}function it(t,e){1&t&&s.Pb(0,"tr",22)}function nt(t,e){1&t&&s.Pb(0,"tr",23)}function ct(t,e){if(1&t&&(s.Ub(0,"div",7),s.Ub(1,"table",8),s.Sb(2,9),s.Jc(3,W,2,0,"th",10),s.Jc(4,G,2,1,"td",11),s.Rb(),s.Sb(5,12),s.Jc(6,K,2,0,"th",10),s.Jc(7,q,2,1,"td",11),s.Rb(),s.Sb(8,13),s.Jc(9,Q,2,0,"th",10),s.Jc(10,Y,3,2,"td",11),s.Rb(),s.Sb(11,14),s.Jc(12,tt,4,0,"th",10),s.Jc(13,et,4,0,"td",11),s.Rb(),s.Jc(14,it,1,0,"tr",15),s.Jc(15,nt,1,0,"tr",16),s.Tb(),s.Tb()),2&t){const t=s.jc();s.Bb(1),s.pc("dataSource",t.villages),s.Bb(13),s.pc("matHeaderRowDef",t.columnsToDisplay),s.Bb(1),s.pc("matRowDefColumns",t.columnsToDisplay)}}let at=(()=>{class t{constructor(t,e,i){this.data=t,this.builder=e,this.dialog=i,this.unsub$=new a.b,this.villages=[],this.columnsToDisplay=["village","time","remaining","action"],this.isLoadingResults=!1}ngOnInit(){this.isLoadingResults=!0,this.builder.getActiveVillages(this.data.id).subscribe(t=>{this.villages=t,this.isLoadingResults=!1}),Object(_.a)(1e3).pipe(Object(l.a)(this.unsub$)).subscribe(t=>{var e;null===(e=this.villages)||void 0===e||e.forEach((t,e,i)=>{i[e].remaining>0&&(i[e].remaining-=1)})}),this.builder.buildRemovedEvent(this.unsub$).subscribe(t=>{this.villages=this.villages.filter(e=>e.village.id!==t)}),this.builder.buildScheduledEvent(this.unsub$).subscribe(t=>{this.villages=this.villages.filter(e=>e.village.id!==t.village.id),this.villages=[...this.villages,t],this.villages.sort((t,e)=>t.remaining<e.remaining?-1:1)})}delete(t){this.builder.stopBuild(t.id)}addVillage(t){this.dialog.open(M,{data:t})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(v.a),s.Ob(g.a),s.Ob(v.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-auto-builder-detail"]],decls:4,vars:3,consts:[[1,"overview-container"],["class","loading-shade",4,"ngIf"],[4,"ngIf"],["class","table-container",4,"ngIf"],[1,"loading-shade"],[1,"w-100","flex-between"],["mat-icon-button","",3,"click"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","village"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","remaining"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"value"],["color","primary","matTooltip","Dorf hinzuf\xfcgen","mat-icon-button","",3,"click"],["matTooltip","Ausbau stoppen","mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1,E,2,1,"div",1),s.Jc(2,H,9,0,"ng-container",2),s.Jc(3,ct,16,3,"div",3),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.isLoadingResults),s.Bb(1),s.pc("ngIf",!e.isLoadingResults&&e.villages&&0===e.villages.length),s.Bb(1),s.pc("ngIf",e.isLoadingResults||e.villages.length>0))},directives:[n.m,R.b,T.a,O.a,S.j,S.c,S.e,S.b,S.g,S.i,S.d,S.a,A.a,V.a,S.f,S.h],pipes:[N.a],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{padding:2px!important}.overview-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;overflow:auto}.loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}tr.example-detail-row[_ngcontent-%COMP%]{height:0}.centerflex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active, tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#636363}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex;justify-content:space-between}.mat-cell[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"]}),t})();function lt(t,e){if(1&t&&s.Pb(0,"img",4),2&t){const t=s.jc(2).$implicit,e=s.jc();s.pc("src",e.imageBase+"buildings/"+t+".png",s.Cc)}}function st(t,e){if(1&t&&(s.Ub(0,"th"),s.Jc(1,lt,1,1,"img",3),s.Tb()),2&t){const t=s.jc(2);s.Bb(1),s.pc("ngIf",t.imageBase)}}function bt(t,e){if(1&t&&(s.Sb(0),s.Jc(1,st,2,1,"th",2),s.Rb()),2&t){const t=e.$implicit,i=s.jc();s.Bb(1),s.pc("ngIf",i.value[t]>0)}}function ot(t,e){if(1&t&&(s.Ub(0,"td"),s.Lc(1),s.Tb()),2&t){const t=s.jc().$implicit,e=s.jc();s.Bb(1),s.Nc(" ",e.value[t]," ")}}function rt(t,e){if(1&t&&(s.Sb(0),s.Jc(1,ot,2,1,"td",2),s.Rb()),2&t){const t=e.$implicit,i=s.jc();s.Bb(1),s.pc("ngIf",i.value[t]>0)}}let ut=(()=>{class t{constructor(t){this.web=t}ngOnInit(){this.web.infoObservable.subscribe(t=>{this.buildings=t.buildings,this.imageBase=t.imageBase})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-buildings-render"]],inputs:{value:"value"},decls:7,vars:2,consts:[[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","img-fluid",3,"src",4,"ngIf"],[1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(s.Ub(0,"table",0),s.Ub(1,"thead"),s.Ub(2,"tr"),s.Jc(3,bt,2,1,"ng-container",1),s.Tb(),s.Tb(),s.Ub(4,"tbody"),s.Ub(5,"tr"),s.Jc(6,rt,2,1,"ng-container",1),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(3),s.pc("ngForOf",e.buildings),s.Bb(3),s.pc("ngForOf",e.buildings))},directives:[n.l,n.m],styles:["*[_ngcontent-%COMP%]{color:#fff}"]}),t})();function dt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",0),s.Ub(3,"div",7),s.Ub(4,"mat-icon"),s.Lc(5,"construction"),s.Tb(),s.Tb(),s.Ub(6,"div",8),s.Ub(7,"h3"),s.Lc(8),s.Tb(),s.Tb(),s.Ub(9,"div",9),s.Pb(10,"app-buildings-render",10),s.Tb(),s.Ub(11,"div",8),s.Ub(12,"button",11),s.fc("click",(function(){s.Ac(t);const i=e.$implicit;return s.jc(2).openDetail(i)})),s.Ub(13,"mat-icon"),s.Lc(14,"pageview"),s.Tb(),s.Tb(),s.Ub(15,"button",12),s.fc("click",(function(){s.Ac(t);const i=e.$implicit;return s.jc(2).deleteTemplate(i)})),s.Ub(16,"mat-icon"),s.Lc(17,"delete"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Pb(18,"hr"),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Bb(8),s.Nc(" ",t.name," "),s.Bb(2),s.pc("value",t.levels)}}function mt(t,e){if(1&t&&(s.Sb(0),s.Jc(1,dt,19,2,"div",6),s.Rb()),2&t){const t=s.jc();s.Bb(1),s.pc("ngForOf",t.templates)}}function pt(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",13),s.Pb(2,"span"),s.Ub(3,"span"),s.Lc(4,"Keine Templates vorhanden."),s.Tb(),s.Pb(5,"span"),s.Tb(),s.Tb())}const gt=[{path:"",component:d,children:[{path:"",pathMatch:"full",component:(()=>{class t{constructor(t,e,i){this.builder=t,this.dialog=e,this.web=i,this.unsub$=new a.b,this.templates=[]}ngOnInit(){this.web.infoObservable.subscribe(t=>{this.imageBase=t.imageBase}),this.builder.getConfig(this.unsub$).subscribe(t=>{this.config=t}),this.builder.getTemplates().subscribe(t=>{this.templates=t}),this.builder.addTemplateEvent(this.unsub$).subscribe(t=>{this.templates=[...this.templates,t]}),this.builder.deleteTemplateEvent(this.unsub$).subscribe(t=>{this.templates=this.templates.filter(e=>e.id!==t)})}openDetail(t){this.dialog.open(at,{data:t,minWidth:"60%"})}deleteTemplate(t){this.builder.deleteTemplate(t.id)}openAddTemplate(){this.dialog.open(J,{minWidth:"60%"})}setNewVillageTemplate(t){this.builder.setNewVillageTemplate(t.id)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(g.a),s.Ob(v.b),s.Ob(f.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-auto-builder-overview"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-xl-12"],[1,"flex-between","col-xl-12"],["mat-mini-fab","",3,"click"],[4,"ngIf"],["class","row",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"col-sm-1"],[1,"col-sm-2"],[1,"col-xl-7"],[1,"p-2",3,"value"],["matTooltip","\xdcbersicht","mat-icon-button","","color","primary",3,"click"],["matTooltip","L\xf6schen","mat-icon-button","","color","warn",3,"click"],[1,"col-xl-12","flex-between"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",0),s.Ub(3,"div",2),s.Pb(4,"span"),s.Ub(5,"div"),s.Ub(6,"button",3),s.fc("click",(function(){return e.openAddTemplate()})),s.Ub(7,"mat-icon"),s.Lc(8,"library_add"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Jc(9,mt,2,1,"ng-container",4),s.Jc(10,pt,6,0,"div",5),s.Tb(),s.Tb()),2&t&&(s.Bb(9),s.pc("ngIf",e.templates.length>0),s.Bb(1),s.pc("ngIf",0===e.templates.length))},directives:[T.a,O.a,n.m,n.l,ut,V.a],styles:[".mat-list-item[_ngcontent-%COMP%]{margin-top:50px}"]}),t})()}]}];let ft=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(gt)],c.f]}),t})();var ht=i("MutI"),vt=i("BLWB");let Tt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c,ft,b.c,o.f,ht.c,O.b,T.b,p.c,v.f,m.t,x.d,U.b,V.b,w.c,vt.a,R.a,S.l]]}),t})()}}]);