(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{sIr3:function(t,e,n){"use strict";n.r(e),n.d(e,"IncsModule",(function(){return Rt}));var i=n("ofXK"),c=n("tyNb"),a=n("XNiG"),b=n("1G5W"),s=n("fXoL"),l=n("M9ds");const r=function(t){return[t]};function o(t,e){if(1&t){const t=s.Vb();s.Ub(0,"span",2),s.fc("click",(function(){s.Cc(t);const n=e.$implicit;return s.jc().activeLink=n})),s.Nc(1),s.Tb()}if(2&t){const t=e.$implicit,n=s.jc();s.pc("active",n.activeLink===t)("routerLink",s.tc(3,r,t.link)),s.Bb(1),s.Pc(" ",t.title," ")}}let m=(()=>{class t{constructor(t){this.router=t,this.links=[{title:"Home",link:"/incs"},{title:"Eigentruppen tabben",link:"/incs/cancel"}],this.activeLink=this.links[0],this.unsub$=new a.b}ngOnInit(){this.setActive(),this.router.events.pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.setActive()})}setActive(){for(const t of this.links)this.router.isActive(t.link,!1)&&(this.activeLink=t)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs"]],decls:3,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,e){1&t&&(s.Ub(0,"nav",0),s.Lc(1,o,2,5,"span",1),s.Tb(),s.Pb(2,"router-outlet")),2&t&&(s.Bb(1),s.pc("ngForOf",e.links))},directives:[l.b,i.l,c.f,l.a,c.c],styles:[""]}),t})();var u=n("l5mm"),p=n("lJxs"),d=n("UXun"),f=n("Kj3r"),h=n("3Pt+"),v=n("7nMs"),g=n("fer1"),T=n("0MNC"),U=n("PDjf"),w=n("5QHs"),O=n("Q2Ze"),P=n("ZTz/"),L=n("jTwa"),C=n("FKr1"),N=n("pu8Q"),k=n("OaSA"),B=n("irRR"),y=n("DSdR");function S(t,e){1&t&&s.Pb(0,"app-unit-render",8),2&t&&s.pc("value",e.$implicit)}function I(t,e){if(1&t&&(s.Ub(0,"mat-option",9),s.Pb(1,"app-unit-render",9),s.Tb()),2&t){const t=e.$implicit;s.pc("value",t),s.Bb(1),s.pc("value",t)}}function $(t,e){if(1&t&&(s.Ub(0,"mat-form-field",4),s.Ub(1,"mat-label"),s.Nc(2,"Einheit"),s.Tb(),s.Ub(3,"mat-select",5),s.Ub(4,"mat-select-trigger"),s.Lc(5,S,1,1,"app-unit-render",6),s.Tb(),s.Lc(6,I,2,2,"mat-option",7),s.Tb(),s.Tb()),2&t){const t=s.jc();s.Bb(3),s.pc("formControl",t.unitsForm),s.Bb(2),s.pc("ngForOf",t.unitsForm.value),s.Bb(1),s.pc("ngForOf",t.units)}}function D(t,e){1&t&&(s.Ub(0,"div",10),s.Ub(1,"div",11),s.Pb(2,"span"),s.Pb(3,"mat-spinner"),s.Pb(4,"span"),s.Tb(),s.Tb())}function j(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Name"),s.Tb())}function x(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Name:"),s.Tb(),s.Ub(3,"a",25),s.Nc(4),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.pc("routerLink","/incs/"+t.id),s.Bb(1),s.Oc(t.name)}}function F(t,e){1&t&&s.Pb(0,"app-unit-render",8),2&t&&s.pc("value",e.$implicit)}function M(t,e){if(1&t&&(s.Ub(0,"mat-option",9),s.Pb(1,"app-unit-render",9),s.Tb()),2&t){const t=e.$implicit;s.pc("value",t),s.Bb(1),s.pc("value",t)}}function R(t,e){if(1&t&&(s.Ub(0,"mat-header-cell"),s.Ub(1,"mat-form-field",4),s.Ub(2,"mat-label"),s.Nc(3,"Einheit"),s.Tb(),s.Ub(4,"mat-select",5),s.Ub(5,"mat-select-trigger"),s.Lc(6,F,1,1,"app-unit-render",6),s.Tb(),s.Lc(7,M,2,2,"mat-option",7),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.jc(2);s.Bb(4),s.pc("formControl",t.unitsForm),s.Bb(2),s.pc("ngForOf",t.unitsForm.value),s.Bb(1),s.pc("ngForOf",t.units)}}function z(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Einheit:"),s.Tb(),s.Pb(3,"app-unit-render",9),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.pc("value",t.slowestUnit)}}function H(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Ziel"),s.Tb())}function A(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Ziel:"),s.Tb(),s.Pb(3,"app-village-render",9),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.pc("value",t.target)}}function V(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Herkunft"),s.Tb())}function E(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Herkunft:"),s.Tb(),s.Pb(3,"app-village-render",9),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.pc("value",t.origin)}}function Y(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Spieler"),s.Tb())}function _(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Spieler:"),s.Tb(),s.Nc(3),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.Pc(" ",t.player.name," ")}}function Z(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Ankunft"),s.Tb())}function G(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Ankunft:"),s.Tb(),s.Nc(3),s.Ub(4,"small"),s.Nc(5),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.Pc(" ",t.arrival.display,""),s.Bb(2),s.Pc(":",t.arrival.ms,"")}}function K(t,e){1&t&&(s.Ub(0,"mat-header-cell"),s.Nc(1,"Verbleibend"),s.Tb())}function Q(t,e){if(1&t&&(s.Ub(0,"mat-cell"),s.Ub(1,"span",24),s.Nc(2,"Verbleibend:"),s.Tb(),s.Ub(3,"span"),s.Nc(4),s.kc(5,"hms"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Bb(3),s.Gb("red",t.remaining<300),s.Bb(1),s.Oc(s.lc(5,3,1e3*t.remaining))}}function W(t,e){1&t&&s.Pb(0,"mat-header-row")}function X(t,e){1&t&&s.Pb(0,"mat-row")}function J(t,e){if(1&t&&(s.Ub(0,"mat-table",12),s.Sb(1,13),s.Lc(2,j,2,0,"mat-header-cell",14),s.Lc(3,x,5,2,"mat-cell",15),s.Rb(),s.Sb(4,16),s.Lc(5,R,8,3,"mat-header-cell",14),s.Lc(6,z,4,1,"mat-cell",15),s.Rb(),s.Sb(7,17),s.Lc(8,H,2,0,"mat-header-cell",14),s.Lc(9,A,4,1,"mat-cell",15),s.Rb(),s.Sb(10,18),s.Lc(11,V,2,0,"mat-header-cell",14),s.Lc(12,E,4,1,"mat-cell",15),s.Rb(),s.Sb(13,19),s.Lc(14,Y,2,0,"mat-header-cell",14),s.Lc(15,_,4,1,"mat-cell",15),s.Rb(),s.Sb(16,20),s.Lc(17,Z,2,0,"mat-header-cell",14),s.Lc(18,G,6,2,"mat-cell",15),s.Rb(),s.Sb(19,21),s.Lc(20,K,2,0,"mat-header-cell",14),s.Lc(21,Q,6,5,"mat-cell",15),s.Rb(),s.Lc(22,W,1,0,"mat-header-row",22),s.Lc(23,X,1,0,"mat-row",23),s.Tb()),2&t){const t=s.jc();s.pc("dataSource",t.incs),s.Bb(22),s.pc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.pc("matRowDefColumns",t.displayedColumns)}}const q=function(){return[10,50,100,250]};let tt=(()=>{class t{constructor(t,e,n){this.web=t,this.incService=e,this.breakpointObserver=n,this.unsub$=new a.b,this.incs=[],this.size=10,this.unitsForm=new h.e([]),this.cancelled=!1,this.displayedColumns=["name","slowestUnit","target","origin","player","arrival","remaining"],this.isHandset$=this.breakpointObserver.observe("(max-width: 900px)").pipe(Object(p.a)(t=>t.matches),Object(d.a)()),this.loading=!1}ngOnInit(){this.web.info().pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.units=t.units}),this.loading=!0,this.incService.getIncList(0,10,!1).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1}),Object(u.a)(1e3).pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.incs.forEach((t,e,n)=>{n[e].remaining>0&&(n[e].remaining-=1)})}),this.unitsForm.valueChanges.pipe(Object(b.a)(this.unsub$),Object(f.a)(1e3)).subscribe(t=>{this.loading=!0,this.incService.getIncList(0,this.size,this.cancelled,t).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1})})}pageUpdate(t){this.size=t.pageSize,this.loading=!0,this.incService.getIncList(t.pageIndex*t.pageSize,t.pageSize,this.cancelled,this.unitsForm.value).subscribe(t=>{this.incs=t.incs,this.count=t.count,this.loading=!1})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(v.a),s.Ob(g.a),s.Ob(T.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs-overview"]],decls:6,vars:9,consts:[["appearance","fill",4,"ngIf"],["class","row",4,"ngIf"],["class","w-100",3,"dataSource",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],["appearance","fill"],["multiple","",3,"formControl"],["class","p-1",3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],[1,"p-1",3,"value"],[3,"value"],[1,"row"],[1,"col-md-12","flex-between"],[1,"w-100",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","slowestUnit"],["matColumnDef","target"],["matColumnDef","origin"],["matColumnDef","player"],["matColumnDef","arrival"],["matColumnDef","remaining"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"mobile-label"],[3,"routerLink"]],template:function(t,e){1&t&&(s.Ub(0,"mat-card"),s.Lc(1,$,7,3,"mat-form-field",0),s.kc(2,"async"),s.Lc(3,D,5,0,"div",1),s.Lc(4,J,24,3,"mat-table",2),s.Ub(5,"mat-paginator",3),s.fc("page",(function(t){return e.pageUpdate(t)})),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",!0===s.lc(2,6,e.isHandset$)),s.Bb(2),s.pc("ngIf",e.loading),s.Bb(1),s.pc("ngIf",!e.loading),s.Bb(1),s.pc("length",e.count)("pageSize",10)("pageSizeOptions",s.sc(8,q)))},directives:[U.a,i.m,w.a,O.b,O.f,P.a,h.o,h.f,P.c,i.l,L.a,C.l,N.b,k.j,k.c,k.e,k.b,k.g,k.i,k.d,k.a,c.d,B.a,k.f,k.h],pipes:[i.b,y.a],styles:["a[_ngcontent-%COMP%]{color:inherit}.red[_ngcontent-%COMP%]{color:red}.mat-header-cell[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.mobile-label[_ngcontent-%COMP%]{display:none}@media (max-width:900px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}.mat-header-row[_ngcontent-%COMP%]{display:none}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px}}"]}),t})();var et=n("bTqV");function nt(t,e){1&t&&(s.Ub(0,"div",2),s.Ub(1,"div",3),s.Pb(2,"span"),s.Pb(3,"mat-spinner"),s.Pb(4,"span"),s.Tb(),s.Tb())}function it(t,e){1&t&&(s.Sb(0),s.Nc(1," Konnte keinen Inc mit dieser ID finden. "),s.Rb())}function ct(t,e){if(1&t&&(s.Ub(0,"mat-option",9),s.Pb(1,"app-unit-render",9),s.Tb()),2&t){const t=e.$implicit;s.pc("value",t),s.Bb(1),s.pc("value",t)}}const at=function(){return{type:"SUPPORT"}},bt=function(t,e,n){return["/planner/command",t,e,n]},st=function(t,e){return{village:t,time:e}},lt=function(t){return["/incs/cancel",t]},rt=function(){return{type:"ATTACK"}};function ot(t,e){if(1&t&&(s.Ub(0,"mat-card-content"),s.Ub(1,"div",2),s.Ub(2,"div",4),s.Ub(3,"mat-card",5),s.Ub(4,"div",6),s.Ub(5,"div",7),s.Nc(6),s.Tb(),s.Ub(7,"div",7),s.Ub(8,"mat-select",8),s.Ub(9,"mat-select-trigger"),s.Pb(10,"app-unit-render",9),s.Tb(),s.Lc(11,ct,2,2,"mat-option",10),s.Tb(),s.Tb(),s.Ub(12,"div",11),s.Nc(13," Ziel: "),s.Pb(14,"app-village-render",9),s.Tb(),s.Ub(15,"div",11),s.Nc(16," Herkunft: "),s.Pb(17,"app-village-render",9),s.Tb(),s.Ub(18,"div",7),s.Nc(19),s.Tb(),s.Ub(20,"div",11),s.Nc(21),s.Ub(22,"small"),s.Nc(23),s.Tb(),s.Tb(),s.Ub(24,"div",11),s.Nc(25),s.Tb(),s.Ub(26,"div",7),s.Nc(27),s.kc(28,"hms"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(29,"div",12),s.Ub(30,"div",2),s.Ub(31,"div",13),s.Ub(32,"button",14),s.Nc(33," DEFF planen. "),s.Tb(),s.Tb(),s.Tb(),s.Ub(34,"div",2),s.Ub(35,"div",13),s.Ub(36,"button",15),s.Nc(37," Eigendeff tabben. "),s.Tb(),s.Tb(),s.Tb(),s.Ub(38,"div",2),s.Ub(39,"div",13),s.Ub(40,"button",16),s.Nc(41," Cleaner planen. "),s.Tb(),s.Tb(),s.Tb(),s.Ub(42,"div",2),s.Ub(43,"div",13),s.Ub(44,"button",16),s.Nc(45," Retime planen. "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.jc();s.Bb(6),s.Pc(" ",t.inc.name," "),s.Bb(2),s.pc("formControl",t.unitForm),s.Bb(2),s.pc("value",t.unitForm.value),s.Bb(1),s.pc("ngForOf",t.units),s.Bb(3),s.pc("value",t.inc.target),s.Bb(3),s.pc("value",t.inc.origin),s.Bb(2),s.Pc(" Spieler: ",t.inc.player.name," "),s.Bb(2),s.Pc(" Ankunft: ",t.inc.arrival.display,""),s.Bb(2),s.Pc(":",t.inc.arrival.ms,""),s.Bb(2),s.Pc(" R\xfcckkehr: ",t.inc.return.display," "),s.Bb(2),s.Pc(" Verbleibend: ",s.lc(28,15,1e3*t.inc.remaining)," "),s.Bb(5),s.pc("routerLink",s.vc(18,bt,t.inc.target.id,t.inc.arrival.timestamp,s.sc(17,at))),s.Bb(4),s.pc("routerLink",s.tc(25,lt,s.uc(22,st,t.inc.target.id,t.inc.arrival.timestamp))),s.Bb(4),s.pc("routerLink",s.vc(28,bt,t.inc.target.id,t.inc.arrival.timestamp,s.sc(27,rt))),s.Bb(4),s.pc("routerLink",s.vc(33,bt,t.inc.origin.id,t.inc.return.timestamp,s.sc(32,rt)))}}let mt=(()=>{class t{constructor(t,e,n){this.route=t,this.incService=e,this.web=n,this.unsub$=new a.b,this.routeChange$=new a.b,this.unitForm=new h.e,this.units=[],this.loading=!1}ngOnInit(){this.web.info().subscribe(t=>{this.units=t.units}),this.route.paramMap.subscribe(t=>{this.routeChange$.next(),this.loading=!0,this.incService.getInc(parseInt(t.get("id"),10)).subscribe(t=>{this.inc=t,this.unitForm.setValue(this.inc.slowestUnit),this.loading=!1}),this.incService.incUpdates(parseInt(t.get("id"),10)).pipe(Object(b.a)(this.routeChange$)).subscribe(t=>{this.inc=t,this.unitForm.setValue(this.inc.slowestUnit)})}),Object(u.a)(1e3).pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.inc&&this.inc.remaining--}),this.unitForm.valueChanges.pipe(Object(f.a)(500)).subscribe(t=>{this.inc&&t!==this.inc.slowestUnit&&this.incService.updateSlowest(this.inc.id,t)})}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete(),this.routeChange$.next(),this.routeChange$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.a),s.Ob(g.a),s.Ob(v.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs-details"]],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-md-12","flex-between"],[1,"col-xl-9"],[1,"mat-elevation-z6","h-100"],[1,"row","align-items-center"],[1,"col-xl-1"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-2"],[1,"col-xl-3"],[1,"col-md-12"],["mat-raised-button","","color","accent",1,"w-100","mat-elevation-z6",3,"routerLink"],["mat-raised-button","","color","accent",1,"w-100","mat-elevation-z6","mt-2",3,"routerLink"],["mat-raised-button","","color","warn",1,"w-100","mat-elevation-z6","mt-2",3,"routerLink"]],template:function(t,e){1&t&&(s.Ub(0,"mat-card"),s.Lc(1,nt,5,0,"div",0),s.Lc(2,it,2,0,"ng-container",1),s.Lc(3,ot,46,37,"mat-card-content",1),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.loading),s.Bb(1),s.pc("ngIf",!e.inc&&!e.loading),s.Bb(1),s.pc("ngIf",e.inc))},directives:[U.a,i.m,N.b,U.c,P.a,h.o,h.f,P.c,L.a,i.l,B.a,et.a,c.c,C.l],pipes:[y.a],styles:[""]}),t})();var ut=n("wd/R"),pt=n("PqYM"),dt=n("5za1"),ft=n("YWTT"),ht=n("7Ixi"),vt=n("e6WT"),gt=n("TN/R"),Tt=n("38Pe");let Ut=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.commandService=e,this.route=n,this.villageService=i,this.form=this.fb.group({village:[null],troops:{},date:ut(),time:ut().format("HH:mm:ss"),start:0,end:999})}ngOnInit(){this.route.paramMap.subscribe(t=>{t.has("village")&&this.villageService.byId(parseInt(t.get("village"),10)).subscribe(t=>{this.form.patchValue({village:t})}),t.has("time")&&this.form.patchValue({date:ut(parseInt(t.get("time"),10)),time:ut(parseInt(t.get("time"),10)).format("HH:mm:ss")})})}submit(t){if(this.form.disable(),Object(pt.a)(1500).subscribe(()=>{this.form.enable()}),null===t.troops)return;const e=ut(t.date.format("DD.MM.YYYY")+" "+t.time,"DD.MM.YYYY HH:mm:ss");this.commandService.cancelTab(t.village.id,t.troops,e.valueOf(),t.start,t.end)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(h.d),s.Ob(dt.a),s.Ob(c.a),s.Ob(ft.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs-cancel-tab-schedule"]],decls:36,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col"],["label","Dorf","formControlName","village"],["matInput","","placeholder","Pick Date","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","maxlength","8","formControlName","time"],["type","number","matInput","","min","0","max","999","formControlName","start"],["type","number","matInput","","min","0","max","999","formControlName","end"],["formControlName","troops",1,"full-width"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){if(1&t&&(s.Ub(0,"mat-card"),s.Ub(1,"form",0),s.fc("ngSubmit",(function(){return e.submit(e.form.value)})),s.Ub(2,"div",1),s.Ub(3,"div",2),s.Pb(4,"app-village-input",3),s.Tb(),s.Tb(),s.Ub(5,"div",1),s.Ub(6,"div",2),s.Ub(7,"mat-form-field"),s.Ub(8,"mat-label"),s.Nc(9,"Ankunft"),s.Tb(),s.Pb(10,"input",4),s.Pb(11,"mat-datepicker-toggle",5),s.Pb(12,"mat-datepicker",null,6),s.Tb(),s.Tb(),s.Ub(14,"div",2),s.Ub(15,"mat-form-field"),s.Ub(16,"mat-label"),s.Nc(17,"Ankunftszeit"),s.Tb(),s.Pb(18,"input",7),s.Tb(),s.Tb(),s.Ub(19,"div",2),s.Ub(20,"mat-form-field"),s.Ub(21,"mat-label"),s.Nc(22,"Min MS"),s.Tb(),s.Pb(23,"input",8),s.Tb(),s.Tb(),s.Ub(24,"div",2),s.Ub(25,"mat-form-field"),s.Ub(26,"mat-label"),s.Nc(27,"Max MS"),s.Tb(),s.Pb(28,"input",9),s.Tb(),s.Tb(),s.Tb(),s.Ub(29,"div",1),s.Ub(30,"div",2),s.Pb(31,"app-units-input",10),s.Tb(),s.Tb(),s.Ub(32,"div",1),s.Ub(33,"div",2),s.Ub(34,"button",11),s.Nc(35," Hinzuf\xfcgen "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.zc(13);s.Bb(1),s.pc("formGroup",e.form),s.Bb(9),s.pc("matDatepicker",t),s.Bb(1),s.pc("for",t),s.Bb(23),s.pc("disabled",!e.form.valid||e.form.disabled)}},directives:[U.a,h.x,h.p,h.i,ht.a,h.o,h.g,O.b,O.f,vt.b,h.c,gt.b,gt.d,O.g,gt.a,h.k,h.s,Tt.a,et.a],styles:[""]}),t})();var wt=n("NFeN");function Ot(t,e){1&t&&(s.Ub(0,"th",10),s.Nc(1," Dorf"),s.Tb())}function Pt(t,e){if(1&t&&(s.Ub(0,"td",11),s.Pb(1,"app-village-render",12),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.pc("value",t.village)}}function Lt(t,e){1&t&&(s.Ub(0,"th",10),s.Nc(1," Zeit"),s.Tb())}function Ct(t,e){if(1&t&&(s.Ub(0,"td",11),s.Nc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Pc(" ",t.time.display," ")}}function Nt(t,e){1&t&&(s.Ub(0,"th",10),s.Nc(1," MS Interval"),s.Tb())}function kt(t,e){if(1&t&&(s.Ub(0,"td",11),s.Nc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Qc(" ",t.startMs,"-",t.endMs," ")}}function Bt(t,e){1&t&&s.Pb(0,"th",10)}function yt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",11),s.Ub(1,"button",13),s.fc("click",(function(){s.Cc(t);const n=e.$implicit;return s.jc(2).cancel(n.id)})),s.Ub(2,"mat-icon"),s.Nc(3,"delete"),s.Tb(),s.Tb(),s.Tb()}}function St(t,e){1&t&&s.Pb(0,"tr",14)}function It(t,e){1&t&&s.Pb(0,"tr",15)}function $t(t,e){if(1&t&&(s.Ub(0,"mat-card"),s.Ub(1,"table",1),s.Sb(2,2),s.Lc(3,Ot,2,0,"th",3),s.Lc(4,Pt,2,1,"td",4),s.Rb(),s.Sb(5,5),s.Lc(6,Lt,2,0,"th",3),s.Lc(7,Ct,2,1,"td",4),s.Rb(),s.Sb(8,6),s.Lc(9,Nt,2,0,"th",3),s.Lc(10,kt,2,2,"td",4),s.Rb(),s.Sb(11,7),s.Lc(12,Bt,1,0,"th",3),s.Lc(13,yt,4,0,"td",4),s.Rb(),s.Lc(14,St,1,0,"tr",8),s.Lc(15,It,1,0,"tr",9),s.Tb(),s.Tb()),2&t){const t=s.jc();s.Bb(1),s.pc("dataSource",t.plans),s.Bb(13),s.pc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.pc("matRowDefColumns",t.displayedColumns)}}let Dt=(()=>{class t{constructor(t){this.command=t,this.unsub$=new a.b,this.displayedColumns=["village","time","ms","cancel"]}ngOnInit(){this.command.getCancelTabs().pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.plans=t}),this.command.cancelPlansEvents().pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.plans=this.plans.filter(e=>e.id!==t)}),this.command.addedPlansEvents().pipe(Object(b.a)(this.unsub$)).subscribe(t=>{this.plans=[...this.plans,t]})}cancel(t){this.command.cancelPlannedCancelTab(t)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(dt.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs-cancel-tab-list"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","village"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","ms"],["matColumnDef","cancel"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"value"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&s.Lc(0,$t,16,3,"mat-card",0),2&t&&s.pc("ngIf",e.plans.length>0)},directives:[i.m,U.a,k.j,k.c,k.e,k.b,k.g,k.i,k.d,k.a,B.a,et.a,wt.a,k.f,k.h],styles:[""]}),t})();const jt=[{path:"",component:m,children:[{path:"cancel",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["app-incs-cancel-tab"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-xl-9"],[1,"col-xl-3"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Pb(2,"app-incs-cancel-tab-schedule"),s.Tb(),s.Ub(3,"div",2),s.Pb(4,"app-incs-cancel-tab-list"),s.Tb(),s.Tb())},directives:[Ut,Dt],styles:[""]}),t})()},{path:":id",component:mt},{path:"",pathMatch:"full",component:tt}]}];let xt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(jt)],c.e]}),t})();var Ft=n("BLWB"),Mt=n("1yaQ");let Rt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[{provide:C.d,useValue:"de-DE"}],imports:[[i.c,xt,l.c,U.f,Ft.a,k.l,et.b,wt.b,w.b,O.d,P.b,h.t,N.a,gt.c,Mt.a,vt.c]]}),t})()}}]);